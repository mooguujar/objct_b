# 开发任务清单

## 一、文档概述

本文档将整个岛屿社交平台项目拆分为详细的可执行任务，每个任务包含充分的上下文引用、技术要求、验收标准和输出物说明。

**参考文档：**
- `产品构想和规划书.md` - 完整的产品规划
- `docs/数据库设计.md` - 数据库表结构设计
- `docs/API接口文档.md` - 所有接口规范
- `当前项目初始描述.md` - 技术栈要求
- `参考设计图/` - 所有页面设计图
- `参考html/` - HTML参考文件

## 二、任务编号规则

- **TASK-000~099**: 文档准备阶段
- **TASK-100~199**: 第一阶段 - 基础架构搭建
- **TASK-200~299**: 第二阶段 - 用户系统与认证
- **TASK-300~399**: 第三阶段 - 核心页面开发
- **TASK-400~499**: 第四阶段 - 社交与互动功能
- **TASK-500~599**: 第五阶段 - 金币系统与支付
- **TASK-600~699**: 第六阶段 - 后台管理系统
- **TASK-700~799**: 第七阶段 - 数据统计完善
- **TASK-800~899**: 第八阶段 - 优化与测试

## 三、阶段0：文档准备

### TASK-000: 创建数据库设计文档

**所属阶段：** 阶段0  
**所属模块：** 文档  
**优先级：** P0  
**依赖任务：** 无

**任务描述：**
创建完整的数据库设计文档，包含所有数据表的详细设计、ER图、Prisma Schema等。

**参考文档：**
- `产品构想和规划书.md` 第601-658行（数据库设计部分）
- `产品构想和规划书.md` 第427-565行（核心功能模块）

**技术要求：**
- 使用 Mermaid 绘制 ER 图
- 定义所有字段类型、约束、索引
- 设计完整的 Prisma Schema

**验收标准：**
- 文档包含15个核心数据表
- ER 图清晰展示表关系
- Prisma Schema 可直接使用

**输出物：**
- `docs/数据库设计.md`

---

### TASK-001: 创建API接口文档

**所属阶段：** 阶段0  
**所属模块：** 文档  
**优先级：** P0  
**依赖任务：** TASK-000

**任务描述：**
创建完整的API接口文档，定义所有接口的请求响应格式、错误码等。

**参考文档：**
- `产品构想和规划书.md` 第33-426行（页面结构与功能说明）
- `产品构想和规划书.md` 第427-565行（核心功能模块）
- `docs/数据库设计.md`（数据库表结构）

**技术要求：**
- 按模块分类组织接口
- 每个接口包含完整的请求响应示例
- 定义统一的错误码规范

**验收标准：**
- 覆盖所有功能模块的接口
- 接口文档可直接用于前后端对接

**输出物：**
- `docs/API接口文档.md`

---

### TASK-002: 创建开发任务清单文档

**所属阶段：** 阶段0  
**所属模块：** 文档  
**优先级：** P0  
**依赖任务：** TASK-000, TASK-001

**任务描述：**
将整个项目拆分为详细的小任务，每个任务包含充分的上下文引用。

**参考文档：**
- `产品构想和规划书.md` 整个文档
- `docs/数据库设计.md`
- `docs/API接口文档.md`
- `参考设计图/` 所有设计图
- `参考html/` 所有HTML文件

**技术要求：**
- 任务拆分足够细致，每个任务可独立完成
- 每个任务包含充分的上下文引用
- 明确任务依赖关系

**验收标准：**
- 所有功能都有对应的任务
- 任务描述清晰，可直接执行

**输出物：**
- `docs/开发任务清单.md`（本文档）

## 四、阶段1：基础架构搭建

### TASK-100: 初始化UniApp项目

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-002

**任务描述：**
创建UniApp项目，配置基础项目结构和依赖。

**参考文档：**
- `当前项目初始描述.md` 第7-14行（前端技术栈要求）

**技术要求：**
- 使用 Vue 3 + TypeScript
- 配置页面路由结构
- 创建基础目录结构（pages/components/store/utils/api/static）

**验收标准：**
- 项目可正常运行
- 目录结构清晰规范

**输出物：**
- `uniapp/` 项目目录
- `uniapp/package.json`
- `uniapp/pages.json`
- `uniapp/manifest.json`

---

### TASK-101: 配置UniApp uView UI组件库

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-100

**任务描述：**
在UniApp项目中安装和配置uView UI组件库。

**参考文档：**
- `当前项目初始描述.md` 第10行（UI组件库要求）

**技术要求：**
- 安装 uView UI 最新版本
- 配置全局引入或按需引入
- 配置主题色（参考产品规划书色彩系统）

**验收标准：**
- uView UI 组件可正常使用
- 主题色配置正确

**输出物：**
- `uniapp/uview.config.js`
- `uniapp/uni.scss`（主题色配置）

---

### TASK-102: 配置UniApp Pinia状态管理

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-100

**任务描述：**
在UniApp项目中安装和配置Pinia状态管理。

**参考文档：**
- `当前项目初始描述.md` 第11行（状态管理要求）

**技术要求：**
- 安装 Pinia 最新版本
- 创建 store 目录结构
- 配置持久化插件（用于登录状态）

**验收标准：**
- Pinia 可正常使用
- 持久化配置正确

**输出物：**
- `uniapp/store/index.ts`
- `uniapp/store/persist.ts`（持久化配置）

---

### TASK-103: 配置UniApp axios请求封装

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-100

**任务描述：**
封装axios请求，实现统一请求拦截、响应拦截、错误处理。

**参考文档：**
- `docs/API接口文档.md` 第2章（接口规范）
- `当前项目初始描述.md` 第12行（网络请求要求）

**技术要求：**
- 统一请求基础URL配置
- 自动添加Token到请求头
- 统一错误处理和提示
- 支持请求重试机制

**验收标准：**
- 请求封装可正常使用
- Token自动添加
- 错误处理完善

**输出物：**
- `uniapp/utils/request.ts`
- `uniapp/utils/errorHandler.ts`

---

### TASK-104: 创建UniApp统一样式变量

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-100

**任务描述：**
创建统一的样式变量文件，定义颜色、字体、间距等设计规范。

**参考文档：**
- `产品构想和规划书.md` 第660-704行（UI设计规范）

**技术要求：**
- 定义主色、辅助色、背景色等
- 定义字体大小、字重
- 定义间距、圆角、阴影等

**验收标准：**
- 样式变量完整
- 符合设计规范

**输出物：**
- `uniapp/styles/variables.scss`

---

### TASK-105: 创建UniApp基础组件

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P1  
**依赖任务：** TASK-101, TASK-104

**任务描述：**
创建基础通用组件（按钮、输入框、卡片、加载等）。

**参考文档：**
- `产品构想和规划书.md` 第660-704行（UI设计规范）

**技术要求：**
- 组件使用uView UI或自定义
- 统一样式风格
- 支持主题色配置

**验收标准：**
- 基础组件可正常使用
- 样式统一规范

**输出物：**
- `uniapp/components/BaseButton.vue`
- `uniapp/components/BaseInput.vue`
- `uniapp/components/BaseCard.vue`
- `uniapp/components/BaseLoading.vue`

---

### TASK-106: 初始化Nuxt.js项目

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-002

**任务描述：**
创建Nuxt.js 3项目，配置基础项目结构和依赖。

**参考文档：**
- `当前项目初始描述.md` 第9行（Nuxt.js要求）

**技术要求：**
- 使用 Nuxt.js 3 + TypeScript
- 配置SSR模式
- 创建基础目录结构（pages/components/composables/store/server）

**验收标准：**
- 项目可正常运行
- SSR配置正确

**输出物：**
- `nuxtjs/` 项目目录
- `nuxtjs/nuxt.config.ts`
- `nuxtjs/package.json`

---

### TASK-107: 配置Nuxt.js Element Plus组件库

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-106

**任务描述：**
在Nuxt.js项目中安装和配置Element Plus组件库。

**参考文档：**
- `当前项目初始描述.md` 第10行（UI组件库要求）
- `产品构想和规划书.md` 第584行（Web端UI组件库）

**技术要求：**
- 安装 Element Plus 最新版本
- 配置按需引入
- 配置主题色

**验收标准：**
- Element Plus 组件可正常使用
- 主题色配置正确

**输出物：**
- `nuxtjs/plugins/element-plus.ts`

---

### TASK-108: 配置Nuxt.js Pinia状态管理

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-106

**任务描述：**
在Nuxt.js项目中安装和配置Pinia状态管理。

**参考文档：**
- `当前项目初始描述.md` 第11行（状态管理要求）

**技术要求：**
- 安装 Pinia 最新版本
- 配置SSR支持
- 创建 store 目录结构

**验收标准：**
- Pinia 可正常使用
- SSR支持正确

**输出物：**
- `nuxtjs/store/index.ts`

---

### TASK-109: 配置Nuxt.js请求封装

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-106

**任务描述：**
封装Nuxt.js的$fetch或axios，实现统一请求处理。

**参考文档：**
- `docs/API接口文档.md` 第2章（接口规范）
- `当前项目初始描述.md` 第12行（网络请求要求）

**技术要求：**
- 使用$fetch或axios
- 统一请求基础URL
- 自动添加Token
- 统一错误处理

**验收标准：**
- 请求封装可正常使用
- SSR和客户端都支持

**输出物：**
- `nuxtjs/composables/useApi.ts`
- `nuxtjs/utils/request.ts`

---

### TASK-110: 创建Nuxt.js统一样式系统

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-106

**任务描述：**
创建统一的样式系统，定义颜色、字体等设计规范。

**参考文档：**
- `产品构想和规划书.md` 第660-704行（UI设计规范）

**技术要求：**
- 定义CSS变量
- 创建全局样式文件
- 配置Tailwind CSS（可选）

**验收标准：**
- 样式系统完整
- 符合设计规范

**输出物：**
- `nuxtjs/assets/styles/variables.css`
- `nuxtjs/assets/styles/global.css`

---

### TASK-111: 初始化NestJS后端项目

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-002

**任务描述：**
创建NestJS项目，配置基础项目结构和依赖。

**参考文档：**
- `当前项目初始描述.md` 第16-23行（Node.js方案）

**技术要求：**
- 使用 NestJS 最新版本
- 配置 TypeScript
- 创建模块化目录结构（modules/common/config）

**验收标准：**
- 项目可正常运行
- 目录结构清晰

**输出物：**
- `backend/` 项目目录
- `backend/src/main.ts`
- `backend/src/app.module.ts`
- `backend/package.json`

---

### TASK-112: 配置NestJS环境变量管理

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-111

**任务描述：**
配置环境变量管理，支持开发、测试、生产环境。

**参考文档：**
- `当前项目初始描述.md` 第25-30行（数据库配置）
- `当前项目初始描述.md` 第34-38行（OSS配置）

**技术要求：**
- 使用 @nestjs/config
- 创建 .env.example 文件
- 配置数据库、OSS等环境变量

**验收标准：**
- 环境变量配置正确
- 支持多环境切换

**输出物：**
- `backend/.env.example`
- `backend/src/config/configuration.ts`

---

### TASK-113: 配置Prisma和数据库连接

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-111, TASK-000

**任务描述：**
配置Prisma ORM，连接MySQL数据库，生成Prisma Client。

**参考文档：**
- `docs/数据库设计.md` 第4章（Prisma Schema设计）
- `当前项目初始描述.md` 第18-19行（ORM和数据库要求）
- `当前项目初始描述.md` 第25-30行（数据库配置）

**技术要求：**
- 安装 Prisma
- 创建 schema.prisma 文件
- 配置数据库连接
- 生成 Prisma Client

**验收标准：**
- 数据库连接成功
- Prisma Client 可正常使用

**输出物：**
- `backend/prisma/schema.prisma`
- `backend/src/prisma/prisma.service.ts`

---

### TASK-114: 创建数据库迁移文件

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-113

**任务描述：**
根据Prisma Schema创建数据库迁移文件，初始化数据库表结构。

**参考文档：**
- `docs/数据库设计.md` 第5章（数据库初始化说明）

**技术要求：**
- 使用 Prisma Migrate
- 创建初始迁移文件
- 执行迁移创建表结构

**验收标准：**
- 所有数据表创建成功
- 表结构符合设计文档

**输出物：**
- `backend/prisma/migrations/` 迁移文件目录

---

### TASK-115: 实现NestJS JWT认证模块

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-111

**任务描述：**
实现JWT认证模块，包括Token生成、验证、刷新等功能。

**参考文档：**
- `docs/API接口文档.md` 第3.1节（认证模块接口）

**技术要求：**
- 使用 @nestjs/jwt
- 实现Token生成和验证
- 实现Token刷新机制
- 创建认证守卫（Guard）

**验收标准：**
- JWT认证功能完整
- Token生成和验证正确

**输出物：**
- `backend/src/modules/auth/auth.module.ts`
- `backend/src/modules/auth/auth.service.ts`
- `backend/src/modules/auth/jwt.strategy.ts`
- `backend/src/common/guards/jwt-auth.guard.ts`

---

### TASK-116: 配置NestJS全局异常处理

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-111

**任务描述：**
配置全局异常过滤器，统一处理错误响应。

**参考文档：**
- `docs/API接口文档.md` 第2.3.2节（错误响应格式）

**技术要求：**
- 创建全局异常过滤器
- 统一错误响应格式
- 记录错误日志

**验收标准：**
- 异常处理统一规范
- 错误响应格式正确

**输出物：**
- `backend/src/common/filters/http-exception.filter.ts`

---

### TASK-117: 配置NestJS跨域和请求拦截

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-111

**任务描述：**
配置CORS跨域支持，实现请求拦截器。

**参考文档：**
- `docs/API接口文档.md` 第2.2.2节（请求头）

**技术要求：**
- 配置CORS允许跨域
- 实现请求日志记录
- 实现请求参数验证

**验收标准：**
- 跨域配置正确
- 请求拦截正常

**输出物：**
- `backend/src/common/interceptors/logging.interceptor.ts`
- `backend/src/main.ts`（CORS配置）

---

### TASK-118: 实现NestJS统一响应格式

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-111

**任务描述：**
实现统一响应格式拦截器，所有接口返回统一格式。

**参考文档：**
- `docs/API接口文档.md` 第2.3.1节（成功响应格式）

**技术要求：**
- 创建响应拦截器
- 统一响应数据结构
- 包含code、message、data、timestamp

**验收标准：**
- 所有接口响应格式统一
- 符合API文档规范

**输出物：**
- `backend/src/common/interceptors/transform.interceptor.ts`

---

### TASK-119: 配置阿里云OSS上传模块

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-111, TASK-112

**任务描述：**
配置阿里云OSS文件上传功能，支持图片和视频上传。

**参考文档：**
- `当前项目初始描述.md` 第21行（文件存储要求）
- `当前项目初始描述.md` 第34-38行（OSS配置）

**技术要求：**
- 安装 ali-oss SDK
- 配置OSS连接
- 实现文件上传服务
- 支持图片和视频上传

**验收标准：**
- OSS上传功能正常
- 文件上传成功

**输出物：**
- `backend/src/modules/upload/upload.module.ts`
- `backend/src/modules/upload/upload.service.ts`

---

### TASK-120: 实现图片处理功能（Sharp）

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P1  
**依赖任务：** TASK-119

**任务描述：**
使用Sharp实现图片压缩、裁剪、格式转换等功能。

**参考文档：**
- `当前项目初始描述.md` 第22行（图片处理要求）

**技术要求：**
- 安装 Sharp
- 实现图片压缩
- 实现图片裁剪
- 支持格式转换

**验收标准：**
- 图片处理功能正常
- 压缩效果良好

**输出物：**
- `backend/src/modules/upload/image.service.ts`

---

### TASK-121: 开发数据统计SDK（统一接口）

**所属阶段：** 阶段1  
**所属模块：** 数据统计  
**优先级：** P0  
**依赖任务：** TASK-111

**任务描述：**
开发统一的数据统计SDK，提供统一的统计接口供前端调用。

**参考文档：**
- `产品构想和规划书.md` 第538-565行（数据统计系统）
- `docs/API接口文档.md` 第3.10节（统计模块接口）

**技术要求：**
- 设计统一的统计接口
- 支持页面访问统计
- 支持点击事件统计
- 支持批量上报
- 支持本地缓存

**验收标准：**
- SDK接口统一易用
- 支持所有统计类型

**输出物：**
- `uniapp/utils/statistics.ts`（UniApp SDK）
- `nuxtjs/composables/useStatistics.ts`（Nuxt.js SDK）

---

### TASK-122: 实现页面访问统计接口

**所属阶段：** 阶段1  
**所属模块：** 数据统计  
**优先级：** P0  
**依赖任务：** TASK-121, TASK-113

**任务描述：**
实现后端页面访问统计接口，接收前端上报的页面访问数据。

**参考文档：**
- `docs/API接口文档.md` 第3.10.1节（上报页面访问接口）
- `docs/数据库设计.md` 第3.9节（PageView表）

**技术要求：**
- 创建统计模块
- 实现页面访问统计接口
- 数据存储到PageView表
- 支持批量上报

**验收标准：**
- 接口可正常接收数据
- 数据正确存储

**输出物：**
- `backend/src/modules/statistics/statistics.module.ts`
- `backend/src/modules/statistics/statistics.service.ts`
- `backend/src/modules/statistics/statistics.controller.ts`

---

### TASK-123: 实现点击事件统计接口

**所属阶段：** 阶段1  
**所属模块：** 数据统计  
**优先级：** P0  
**依赖任务：** TASK-121, TASK-113

**任务描述：**
实现后端点击事件统计接口，接收前端上报的点击事件数据。

**参考文档：**
- `docs/API接口文档.md` 第3.10.2节（上报点击事件接口）
- `docs/数据库设计.md` 第3.10节（ClickEvent表）

**技术要求：**
- 实现点击事件统计接口
- 数据存储到ClickEvent表
- 支持批量上报

**验收标准：**
- 接口可正常接收数据
- 数据正确存储

**输出物：**
- 更新 `backend/src/modules/statistics/statistics.service.ts`
- 更新 `backend/src/modules/statistics/statistics.controller.ts`

---

## 五、阶段2：用户系统与认证

### TASK-200: 实现用户注册接口

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-115, TASK-113

**任务描述：**
实现用户注册接口，支持用户名、手机号、邮箱注册。

**参考文档：**
- `docs/API接口文档.md` 第3.1.1节（用户注册接口）
- `docs/数据库设计.md` 第3.1节（User表）

**技术要求：**
- 实现注册接口
- 密码加密存储（bcrypt）
- 用户名唯一性验证
- 手机号/邮箱格式验证

**验收标准：**
- 注册功能正常
- 数据验证完善
- 密码正确加密

**输出物：**
- `backend/src/modules/user/user.controller.ts`（注册接口）
- `backend/src/modules/user/user.service.ts`（注册逻辑）

---

### TASK-201: 实现用户登录接口

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-200, TASK-115

**任务描述：**
实现用户登录接口，返回JWT Token和用户信息。

**参考文档：**
- `docs/API接口文档.md` 第3.1.2节（用户登录接口）

**技术要求：**
- 实现登录接口
- 验证用户名和密码
- 生成JWT Token和RefreshToken
- 返回用户信息

**验收标准：**
- 登录功能正常
- Token生成正确

**输出物：**
- 更新 `backend/src/modules/user/user.controller.ts`（登录接口）
- 更新 `backend/src/modules/user/user.service.ts`（登录逻辑）

---

### TASK-202: 实现忘记密码功能

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P1  
**依赖任务：** TASK-200

**任务描述：**
实现忘记密码功能，包括发送验证码和重置密码。

**参考文档：**
- `docs/API接口文档.md` 第3.1.5-3.1.6节（忘记密码和重置密码接口）

**技术要求：**
- 实现忘记密码接口（发送验证码）
- 实现重置密码接口
- 验证码验证（可先使用简单实现）

**验收标准：**
- 忘记密码流程完整
- 密码重置成功

**输出物：**
- 更新 `backend/src/modules/user/user.controller.ts`
- 更新 `backend/src/modules/user/user.service.ts`

---

### TASK-203: 实现用户信息管理接口

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-201

**任务描述：**
实现获取和更新用户信息的接口。

**参考文档：**
- `docs/API接口文档.md` 第3.2.1-3.2.2节（用户信息接口）

**技术要求：**
- 实现获取用户信息接口
- 实现更新用户信息接口
- 权限验证（只能修改自己的信息）

**验收标准：**
- 用户信息获取和更新正常
- 权限验证正确

**输出物：**
- 更新 `backend/src/modules/user/user.controller.ts`
- 更新 `backend/src/modules/user/user.service.ts`

---

### TASK-204: 实现头像上传接口

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-119, TASK-203

**任务描述：**
实现用户头像上传接口，支持图片上传和裁剪。

**参考文档：**
- `docs/API接口文档.md` 第3.2.3节（上传头像接口）
- `docs/API接口文档.md` 第4.1节（上传图片接口）

**技术要求：**
- 实现头像上传接口
- 图片上传到OSS
- 图片压缩处理
- 更新用户头像URL

**验收标准：**
- 头像上传成功
- 图片处理正确

**输出物：**
- 更新 `backend/src/modules/user/user.controller.ts`
- 更新 `backend/src/modules/upload/upload.service.ts`

---

### TASK-205: 开发UniApp登录页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-201, TASK-103, TASK-101

**任务描述：**
开发UniApp登录页面，实现登录功能。

**参考文档：**
- `产品构想和规划书.md` 第431-436行（注册登录功能）
- `参考设计图/` 登录页面设计图（如果有）

**技术要求：**
- 使用uView UI组件
- 实现登录表单
- 调用登录接口
- 保存Token到本地存储
- 登录成功后跳转

**验收标准：**
- 登录页面UI符合设计
- 登录功能正常
- Token正确保存

**输出物：**
- `uniapp/pages/login/login.vue`

---

### TASK-206: 开发UniApp注册页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-200, TASK-103, TASK-101

**任务描述：**
开发UniApp注册页面，实现用户注册功能。

**参考文档：**
- `产品构想和规划书.md` 第431-436行（注册登录功能）

**技术要求：**
- 实现注册表单
- 表单验证
- 调用注册接口
- 注册成功后自动登录

**验收标准：**
- 注册页面UI符合设计
- 注册功能正常
- 表单验证完善

**输出物：**
- `uniapp/pages/register/register.vue`

---

### TASK-207: 开发UniApp忘记密码页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P1  
**依赖任务：** TASK-202, TASK-103, TASK-101

**任务描述：**
开发UniApp忘记密码页面，实现密码重置功能。

**参考文档：**
- `产品构想和规划书.md` 第431-436行（注册登录功能）

**技术要求：**
- 实现忘记密码表单
- 验证码输入
- 调用忘记密码和重置密码接口

**验收标准：**
- 忘记密码功能正常
- 流程完整

**输出物：**
- `uniapp/pages/forgot-password/forgot-password.vue`

---

### TASK-208: 集成UniApp登录状态管理

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-102, TASK-201

**任务描述：**
创建用户状态管理Store，管理登录状态和用户信息。

**参考文档：**
- `docs/API接口文档.md` 第3.2.1节（获取用户信息接口）

**技术要求：**
- 创建user store
- 管理登录状态
- 管理用户信息
- 实现登录、登出、更新用户信息等方法

**验收标准：**
- 登录状态管理正常
- 用户信息正确存储

**输出物：**
- `uniapp/store/user.ts`

---

### TASK-209: 实现UniApp请求拦截器（Token）

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-103, TASK-208

**任务描述：**
在请求拦截器中自动添加Token，实现Token刷新机制。

**参考文档：**
- `docs/API接口文档.md` 第2.6节（认证说明）
- `docs/API接口文档.md` 第3.1.4节（刷新Token接口）

**技术要求：**
- 请求拦截器自动添加Token
- Token过期自动刷新
- 刷新失败跳转登录

**验收标准：**
- Token自动添加
- 刷新机制正常

**输出物：**
- 更新 `uniapp/utils/request.ts`

---

### TASK-210: 开发Nuxt.js登录页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-201, TASK-109, TASK-107

**任务描述：**
开发Nuxt.js登录页面，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第431-436行（注册登录功能）

**技术要求：**
- 使用Element Plus组件
- 实现登录表单
- 调用登录接口
- SSR支持

**验收标准：**
- 登录页面UI符合设计
- 登录功能正常
- SSR正常

**输出物：**
- `nuxtjs/pages/login.vue`

---

### TASK-211: 开发Nuxt.js注册页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-200, TASK-109, TASK-107

**任务描述：**
开发Nuxt.js注册页面，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第431-436行（注册登录功能）

**技术要求：**
- 实现注册表单
- 表单验证
- 调用注册接口
- SSR支持

**验收标准：**
- 注册页面UI符合设计
- 注册功能正常

**输出物：**
- `nuxtjs/pages/register.vue`

---

### TASK-212: 集成Nuxt.js登录状态管理

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-108, TASK-201

**任务描述：**
创建Nuxt.js用户状态管理Store，管理登录状态和用户信息。

**参考文档：**
- `docs/API接口文档.md` 第3.2.1节（获取用户信息接口）

**技术要求：**
- 创建user store
- 支持SSR
- 管理登录状态和用户信息

**验收标准：**
- 登录状态管理正常
- SSR支持正确

**输出物：**
- `nuxtjs/store/user.ts`

---

### TASK-213: 实现Nuxt.js请求拦截器（Token）

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-109, TASK-212

**任务描述：**
在Nuxt.js请求封装中自动添加Token，实现Token刷新机制。

**参考文档：**
- `docs/API接口文档.md` 第2.6节（认证说明）

**技术要求：**
- 请求自动添加Token
- Token过期自动刷新
- SSR和客户端都支持

**验收标准：**
- Token自动添加
- 刷新机制正常

**输出物：**
- 更新 `nuxtjs/composables/useApi.ts`

---

## 六、阶段3：核心页面开发

### TASK-300: 开发Page 1 - 首页发现页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-103, TASK-101, TASK-104

**任务描述：**
开发首页发现页，实现双列瀑布流布局、下拉刷新、上拉加载等功能。

**参考文档：**
- `产品构想和规划书.md` 第33-68行（首页-发现页说明）
- `参考设计图/1.首页-发现.png`
- `参考html/Page 1.html`
- `docs/API接口文档.md` 第3.3.1节（获取内容列表接口）

**技术要求：**
- 使用uView UI组件
- 实现双列瀑布流布局
- 实现下拉刷新和上拉加载
- 调用内容列表接口
- 实现卡片点击跳转详情

**验收标准：**
- 页面UI符合设计图
- 瀑布流布局正常
- 下拉刷新和上拉加载正常
- 数据正确展示

**输出物：**
- `uniapp/pages/index/index.vue`
- `uniapp/components/PostCard.vue`（内容卡片组件）

---

### TASK-301: 开发Page 1 - 首页发现页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-109, TASK-107, TASK-110

**任务描述：**
开发Web端首页发现页，实现双列瀑布流布局，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第33-68行（首页-发现页说明）
- `参考设计图/1.首页-发现.png`
- `参考html/Page 1.html`
- `docs/API接口文档.md` 第3.3.1节（获取内容列表接口）

**技术要求：**
- 使用Element Plus组件
- 实现双列瀑布流布局
- 支持SSR
- 实现无限滚动加载
- SEO优化

**验收标准：**
- 页面UI符合设计图
- SSR正常
- 数据正确展示

**输出物：**
- `nuxtjs/pages/index.vue`
- `nuxtjs/components/PostCard.vue`（内容卡片组件）

---

### TASK-302: 实现内容列表接口

**所属阶段：** 阶段3  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-113, TASK-114

**任务描述：**
实现获取内容列表的接口，支持分页、筛选、排序。

**参考文档：**
- `docs/API接口文档.md` 第3.3.1节（获取内容列表接口）
- `docs/数据库设计.md` 第3.3节（Post表）

**技术要求：**
- 实现内容列表查询
- 支持分页
- 支持分类筛选
- 支持媒体类型筛选
- 支持排序（最新/最热）
- 关联查询用户信息

**验收标准：**
- 接口返回数据正确
- 分页功能正常
- 筛选和排序正常

**输出物：**
- `backend/src/modules/content/content.controller.ts`（列表接口）
- `backend/src/modules/content/content.service.ts`（列表逻辑）

---

### TASK-303: 开发Page 2 - 首页关注页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-300, TASK-103

**任务描述：**
开发首页关注页，展示已关注用户的动态。

**参考文档：**
- `产品构想和规划书.md` 第70-101行（首页-关注页说明）
- `参考设计图/2.首页-关注.png`
- `参考html/Page 2.html`
- `docs/API接口文档.md` 第3.3.2节（获取关注动态接口）

**技术要求：**
- 实现单列动态流布局
- 实现动态卡片组件
- 实现互动按钮（点赞、评论、收藏、分享）
- 调用关注动态接口

**验收标准：**
- 页面UI符合设计图
- 关注动态正确展示
- 互动功能正常

**输出物：**
- `uniapp/pages/following/index.vue`
- `uniapp/components/FeedCard.vue`（动态卡片组件）

---

### TASK-304: 开发Page 2 - 首页关注页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-301, TASK-109

**任务描述：**
开发Web端首页关注页，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第70-101行（首页-关注页说明）
- `参考设计图/2.首页-关注.png`
- `参考html/Page 2.html`
- `docs/API接口文档.md` 第3.3.2节（获取关注动态接口）

**技术要求：**
- 实现单列动态流布局
- 支持SSR
- 实现互动功能

**验收标准：**
- 页面UI符合设计图
- SSR正常
- 功能正常

**输出物：**
- `nuxtjs/pages/following.vue`
- `nuxtjs/components/FeedCard.vue`（动态卡片组件）

---

### TASK-305: 实现关注动态接口

**所属阶段：** 阶段3  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-302, TASK-113

**任务描述：**
实现获取关注动态的接口，返回已关注用户发布的帖子。

**参考文档：**
- `docs/API接口文档.md` 第3.3.2节（获取关注动态接口）
- `docs/数据库设计.md` 第3.5节（Follow表）

**技术要求：**
- 查询当前用户关注的用户
- 获取这些用户发布的帖子
- 支持分页
- 按时间倒序排列

**验收标准：**
- 接口返回正确的关注动态
- 分页功能正常

**输出物：**
- 更新 `backend/src/modules/content/content.service.ts`（关注动态逻辑）

---

### TASK-306: 开发Page 3 - 首页热门岛屿页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-300, TASK-103

**任务描述：**
开发首页热门岛屿页，展示热门岛屿推荐和分类筛选。

**参考文档：**
- `产品构想和规划书.md` 第103-143行（首页-热门岛屿页说明）
- `参考设计图/3.首页-热门岛屿.png`
- `参考html/Page 3.html`
- `docs/API接口文档.md` 第3.4.2节（获取热门岛屿接口）

**技术要求：**
- 实现"为你推荐"横向滚动区域
- 实现分类筛选标签
- 实现岛屿列表展示
- 实现加入岛屿功能

**验收标准：**
- 页面UI符合设计图
- 热门岛屿正确展示
- 分类筛选正常

**输出物：**
- `uniapp/pages/hot-islands/index.vue`
- `uniapp/components/IslandCard.vue`（岛屿卡片组件）

---

### TASK-307: 开发Page 3 - 首页热门岛屿页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-301, TASK-109

**任务描述：**
开发Web端首页热门岛屿页，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第103-143行（首页-热门岛屿页说明）
- `参考设计图/3.首页-热门岛屿.png`
- `参考html/Page 3.html`
- `docs/API接口文档.md` 第3.4.2节（获取热门岛屿接口）

**技术要求：**
- 实现热门岛屿展示
- 支持SSR
- 实现分类筛选

**验收标准：**
- 页面UI符合设计图
- SSR正常
- 功能正常

**输出物：**
- `nuxtjs/pages/hot-islands.vue`
- `nuxtjs/components/IslandCard.vue`（岛屿卡片组件）

---

### TASK-308: 实现热门岛屿接口

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-113, TASK-114

**任务描述：**
实现获取热门岛屿的接口，根据成员数、帖子数等排序。

**参考文档：**
- `docs/API接口文档.md` 第3.4.2节（获取热门岛屿接口）
- `docs/数据库设计.md` 第3.2节（Island表）

**技术要求：**
- 查询岛屿列表
- 按热门度排序（成员数+帖子数）
- 支持分类筛选
- 支持数量限制

**验收标准：**
- 接口返回正确的热门岛屿
- 排序逻辑正确

**输出物：**
- `backend/src/modules/island/island.controller.ts`（热门岛屿接口）
- `backend/src/modules/island/island.service.ts`（热门岛屿逻辑）

---

### TASK-309: 开发Page 4 - 岛屿-加入的岛屿页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-103, TASK-101

**任务描述：**
开发加入的岛屿页，展示用户已加入的所有岛屿。

**参考文档：**
- `产品构想和规划书.md` 第145-175行（岛屿-加入的岛屿页说明）
- `参考设计图/4.岛屿-加入的岛屿.png`
- `参考html/Page 4.html`
- `docs/API接口文档.md` 第3.4.3节（获取我的岛屿接口）

**技术要求：**
- 实现岛屿列表展示
- 实现筛选和排序功能
- 实现创建岛屿入口
- 调用我的岛屿接口

**验收标准：**
- 页面UI符合设计图
- 岛屿列表正确展示
- 筛选排序正常

**输出物：**
- `uniapp/pages/island/my.vue`
- `uniapp/components/MyIslandCard.vue`（我的岛屿卡片组件）

---

### TASK-310: 开发Page 4 - 岛屿-加入的岛屿页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-109, TASK-107

**任务描述：**
开发Web端加入的岛屿页，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第145-175行（岛屿-加入的岛屿页说明）
- `参考设计图/4.岛屿-加入的岛屿.png`
- `参考html/Page 4.html`
- `docs/API接口文档.md` 第3.4.3节（获取我的岛屿接口）

**技术要求：**
- 实现岛屿列表展示
- 支持SSR
- 实现筛选排序

**验收标准：**
- 页面UI符合设计图
- SSR正常
- 功能正常

**输出物：**
- `nuxtjs/pages/island/my.vue`
- `nuxtjs/components/MyIslandCard.vue`（我的岛屿卡片组件）

---

### TASK-311: 实现我的岛屿接口

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-113, TASK-114

**任务描述：**
实现获取我的岛屿的接口，返回用户已加入或创建的岛屿。

**参考文档：**
- `docs/API接口文档.md` 第3.4.3节（获取我的岛屿接口）
- `docs/数据库设计.md` 第3.6节（IslandMember表）

**技术要求：**
- 查询用户加入的岛屿
- 查询用户创建的岛屿
- 支持分页
- 支持排序

**验收标准：**
- 接口返回正确的岛屿列表
- 分页和排序正常

**输出物：**
- 更新 `backend/src/modules/island/island.controller.ts`（我的岛屿接口）
- 更新 `backend/src/modules/island/island.service.ts`（我的岛屿逻辑）

---

### TASK-312: 开发Page 5 - 岛屿详情页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-103, TASK-101

**任务描述：**
开发岛屿详情页，展示岛屿信息、岛主信息、岛屿内容等。

**参考文档：**
- `产品构想和规划书.md` 第177-226行（岛屿详情页说明）
- `参考设计图/5.岛屿详情.png`
- `参考html/Page 5.html`
- `docs/API接口文档.md` 第3.4.4-3.4.5节（岛屿详情和内容列表接口）

**技术要求：**
- 实现顶部背景区
- 实现岛屿信息卡片
- 实现内容瀑布流
- 实现加入岛屿功能
- 实现底部操作栏

**验收标准：**
- 页面UI符合设计图
- 岛屿信息正确展示
- 加入功能正常

**输出物：**
- `uniapp/pages/island/detail.vue`
- `uniapp/components/IslandInfo.vue`（岛屿信息组件）

---

### TASK-313: 开发Page 5 - 岛屿详情页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-109, TASK-107

**任务描述：**
开发Web端岛屿详情页，支持SSR和SEO。

**参考文档：**
- `产品构想和规划书.md` 第177-226行（岛屿详情页说明）
- `参考设计图/5.岛屿详情.png`
- `参考html/Page 5.html`
- `docs/API接口文档.md` 第3.4.4-3.4.5节（岛屿详情和内容列表接口）

**技术要求：**
- 实现岛屿详情展示
- 支持SSR
- SEO优化（meta标签）

**验收标准：**
- 页面UI符合设计图
- SSR正常
- SEO优化正确

**输出物：**
- `nuxtjs/pages/island/[id].vue`
- `nuxtjs/components/IslandInfo.vue`（岛屿信息组件）

---

### TASK-314: 实现岛屿详情接口

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-113, TASK-114

**任务描述：**
实现获取岛屿详情的接口，返回岛屿完整信息。

**参考文档：**
- `docs/API接口文档.md` 第3.4.4节（获取岛屿详情接口）
- `docs/数据库设计.md` 第3.2节（Island表）

**技术要求：**
- 查询岛屿信息
- 关联查询岛主信息
- 判断当前用户是否已加入
- 返回岛屿统计数据

**验收标准：**
- 接口返回完整的岛屿信息
- 加入状态判断正确

**输出物：**
- 更新 `backend/src/modules/island/island.controller.ts`（详情接口）
- 更新 `backend/src/modules/island/island.service.ts`（详情逻辑）

---

### TASK-315: 实现岛屿内容列表接口

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-302, TASK-314

**任务描述：**
实现获取岛屿内容列表的接口，返回指定岛屿的帖子列表。

**参考文档：**
- `docs/API接口文档.md` 第3.4.5节（获取岛屿内容列表接口）
- `docs/数据库设计.md` 第3.3节（Post表）

**技术要求：**
- 查询指定岛屿的帖子
- 支持分页
- 支持排序
- 验证用户是否已加入（付费岛屿）

**验收标准：**
- 接口返回正确的岛屿内容
- 权限验证正确

**输出物：**
- 更新 `backend/src/modules/island/island.controller.ts`（内容列表接口）
- 更新 `backend/src/modules/island/island.service.ts`（内容列表逻辑）

---

### TASK-316: 开发Page 6 - 通知页面（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 通知模块  
**优先级：** P0  
**依赖任务：** TASK-103, TASK-101

**任务描述：**
开发通知页面，展示系统通知、互动通知、付费通知。

**参考文档：**
- `产品构想和规划书.md` 第228-269行（通知和聊天页面说明）
- `参考设计图/6.通知和聊天页面.png`
- `参考html/Page 6.html`
- `docs/API接口文档.md` 第3.5节（通知模块接口）

**技术要求：**
- 实现通知分类展示
- 实现通知列表
- 实现标记已读功能
- 实现清除通知功能

**验收标准：**
- 页面UI符合设计图
- 通知列表正确展示
- 功能正常

**输出物：**
- `uniapp/pages/notification/index.vue`
- `uniapp/components/NotificationItem.vue`（通知项组件）

---

### TASK-317: 开发Page 6 - 通知页面（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 通知模块  
**优先级：** P0  
**依赖任务：** TASK-109, TASK-107

**任务描述：**
开发Web端通知页面，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第228-269行（通知和聊天页面说明）
- `参考设计图/6.通知和聊天页面.png`
- `参考html/Page 6.html`
- `docs/API接口文档.md` 第3.5节（通知模块接口）

**技术要求：**
- 实现通知列表展示
- 支持SSR
- 实现通知功能

**验收标准：**
- 页面UI符合设计图
- SSR正常
- 功能正常

**输出物：**
- `nuxtjs/pages/notification.vue`
- `nuxtjs/components/NotificationItem.vue`（通知项组件）

---

### TASK-318: 实现通知模块接口

**所属阶段：** 阶段3  
**所属模块：** 通知模块  
**优先级：** P0  
**依赖任务：** TASK-113, TASK-114

**任务描述：**
实现通知模块的所有接口，包括获取通知列表、标记已读、清除通知等。

**参考文档：**
- `docs/API接口文档.md` 第3.5节（通知模块接口）
- `docs/数据库设计.md` 第3.7节（Notification表）

**技术要求：**
- 实现通知列表接口（支持分类、分页）
- 实现通知详情接口
- 实现标记已读接口
- 实现清除通知接口

**验收标准：**
- 所有通知接口正常
- 功能完整

**输出物：**
- `backend/src/modules/notification/notification.module.ts`
- `backend/src/modules/notification/notification.controller.ts`
- `backend/src/modules/notification/notification.service.ts`

---

### TASK-319: 开发Page 7 - 个人页面（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-203, TASK-103, TASK-101

**任务描述：**
开发个人页面，展示个人信息、数据统计、金币余额等。

**参考文档：**
- `产品构想和规划书.md` 第271-311行（个人页面说明）
- `参考设计图/7.个人页面.png`
- `参考html/Page 7.html`
- `docs/API接口文档.md` 第3.2.1节（获取用户信息接口）

**技术要求：**
- 实现个人信息展示区
- 实现数据统计展示
- 实现金币余额卡片
- 实现快捷功能区
- 实现功能列表

**验收标准：**
- 页面UI符合设计图
- 个人信息正确展示
- 功能入口正常

**输出物：**
- `uniapp/pages/profile/index.vue`
- `uniapp/components/CoinCard.vue`（金币卡片组件）

---

### TASK-320: 开发Page 7 - 个人页面（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-203, TASK-109, TASK-107

**任务描述：**
开发Web端个人页面，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第271-311行（个人页面说明）
- `参考设计图/7.个人页面.png`
- `参考html/Page 7.html`
- `docs/API接口文档.md` 第3.2.1节（获取用户信息接口）

**技术要求：**
- 实现个人页面展示
- 支持SSR
- 实现功能入口

**验收标准：**
- 页面UI符合设计图
- SSR正常
- 功能正常

**输出物：**
- `nuxtjs/pages/profile.vue`

---

### TASK-321: 开发Page 8 - 申请入驻页面（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-103, TASK-101, TASK-119

**任务描述：**
开发申请入驻页面，实现创作者申请功能。

**参考文档：**
- `产品构想和规划书.md` 第313-354行（申请入驻页面说明）
- 