# 开发任务清单

## 一、文档说明

本文档将整个项目拆分为详细的可执行任务，每个任务包含充分的上下文引用、技术要求、验收标准和输出物说明。

**参考文档：**
- `产品构想和规划书.md` - 完整的产品规划
- `docs/数据库设计.md` - 数据库表结构设计
- `docs/API接口文档.md` - 所有接口规范
- `当前项目初始描述.md` - 技术栈要求
- `参考设计图/` - 所有页面设计图
- `参考html/` - HTML参考文件

## 二、任务编号规则

- **阶段0（文档）**: TASK-000 ~ TASK-099
- **阶段1（基础架构）**: TASK-100 ~ TASK-199
- **阶段2（用户系统）**: TASK-200 ~ TASK-299
- **阶段3（页面开发）**: TASK-300 ~ TASK-499
- **阶段4（社交功能）**: TASK-500 ~ TASK-599
- **阶段5（金币系统）**: TASK-600 ~ TASK-699
- **阶段6（后台管理）**: TASK-700 ~ TASK-799
- **阶段7（统计完善）**: TASK-800 ~ TASK-899
- **阶段8（优化测试）**: TASK-900 ~ TASK-999

## 三、任务清单

### 阶段0：文档准备

#### TASK-000: 创建数据库设计文档

**所属阶段：** 阶段0  
**所属模块：** 文档  
**优先级：** P0  
**依赖任务：** 无

**任务描述：**
创建完整的数据库设计文档，包含所有数据表的详细设计、ER图、Prisma Schema等。

**参考文档：**
- `产品构想和规划书.md` 第601-658行（数据库设计部分）
- `产品构想和规划书.md` 第427-565行（核心功能模块）

**技术要求：**
- 使用 Mermaid 绘制 ER 图
- 定义所有字段类型、约束、索引
- 设计 Prisma Schema

**验收标准：**
- 文档包含15个核心数据表
- ER图清晰展示表关系
- Prisma Schema可正常生成迁移

**输出物：**
- `docs/数据库设计.md`

---

#### TASK-001: 创建API接口文档

**所属阶段：** 阶段0  
**所属模块：** 文档  
**优先级：** P0  
**依赖任务：** TASK-000

**任务描述：**
创建完整的API接口文档，定义所有接口的请求响应格式、错误码等。

**参考文档：**
- `产品构想和规划书.md` 第33-426行（页面结构与功能说明）
- `产品构想和规划书.md` 第427-565行（核心功能模块）
- `docs/数据库设计.md`（数据库表结构）

**技术要求：**
- RESTful API 规范
- 统一的请求响应格式
- 完整的错误码定义

**验收标准：**
- 包含所有10个模块的接口
- 每个接口有详细的参数说明
- 提供请求响应示例

**输出物：**
- `docs/API接口文档.md`

---

#### TASK-002: 创建开发任务清单文档

**所属阶段：** 阶段0  
**所属模块：** 文档  
**优先级：** P0  
**依赖任务：** TASK-000, TASK-001

**任务描述：**
将整个项目拆分为详细的小任务，每个任务包含充分的上下文引用。

**参考文档：**
- `产品构想和规划书.md` 整个文档
- `docs/数据库设计.md`
- `docs/API接口文档.md`
- 所有设计图和HTML参考文件

**技术要求：**
- 任务拆分遵循单一职责原则
- 每个任务有明确的输出物
- 标注任务依赖关系

**验收标准：**
- 覆盖所有开发阶段
- 每个任务可独立执行
- 上下文引用完整

**输出物：**
- `docs/开发任务清单.md`（本文档）

---

### 阶段1：基础架构搭建

#### TASK-100: 初始化UniApp项目

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-002

**任务描述：**
创建UniApp项目，配置基础项目结构和依赖。

**参考文档：**
- `当前项目初始描述.md` 第7-14行（前端技术栈）
- `产品构想和规划书.md` 第571-579行（APP端技术栈）

**技术要求：**
- 使用 Vue 3 + TypeScript
- 配置 uView UI 组件库
- 配置 Pinia 状态管理
- 配置 axios 请求封装
- 配置路由和页面结构

**验收标准：**
- 项目可正常启动
- 基础配置完成
- 目录结构清晰

**输出物：**
- `uniapp/` 目录及基础文件
- `uniapp/package.json`
- `uniapp/pages.json`
- `uniapp/manifest.json`

---

#### TASK-101: 初始化Nuxt.js项目

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-002

**任务描述：**
创建Nuxt.js 3项目，配置基础项目结构和依赖。

**参考文档：**
- `当前项目初始描述.md` 第7-14行（前端技术栈）
- `产品构想和规划书.md` 第581-589行（Web端技术栈）

**技术要求：**
- 使用 Nuxt.js 3
- 配置 Element Plus 组件库
- 配置 Pinia 状态管理
- 配置 axios/$fetch 请求封装
- 配置路由和布局

**验收标准：**
- 项目可正常启动
- SSR功能正常
- 基础配置完成

**输出物：**
- `nuxtjs/` 目录及基础文件
- `nuxtjs/package.json`
- `nuxtjs/nuxt.config.ts`

---

#### TASK-102: 初始化NestJS后端项目

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-002

**任务描述：**
创建NestJS项目，配置基础项目结构和依赖。

**参考文档：**
- `当前项目初始描述.md` 第16-23行（Node.js方案）
- `产品构想和规划书.md` 第591-599行（后端技术栈）

**技术要求：**
- 使用 NestJS 框架
- 配置 Prisma ORM
- 配置环境变量管理
- 配置 TypeScript

**验收标准：**
- 项目可正常启动
- 基础模块结构完成
- 配置文件正确

**输出物：**
- `backend/` 目录及基础文件
- `backend/package.json`
- `backend/src/main.ts`
- `backend/src/app.module.ts`

---

#### TASK-103: 配置Prisma和数据库连接

**所属阶段：** 阶段1  
**所属模块：** 数据库  
**优先级：** P0  
**依赖任务：** TASK-000, TASK-102

**任务描述：**
配置Prisma，创建数据模型，连接数据库。

**参考文档：**
- `docs/数据库设计.md` Prisma Schema部分
- `当前项目初始描述.md` 第25-30行（数据库配置）

**技术要求：**
- 配置 Prisma Schema
- 创建数据库迁移
- 生成 Prisma Client
- 配置数据库连接

**验收标准：**
- 数据库连接成功
- 迁移文件创建完成
- Prisma Client生成成功

**输出物：**
- `backend/prisma/schema.prisma`
- `backend/prisma/migrations/`
- `.env` 数据库配置

---

#### TASK-104: 实现JWT认证模块

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-102, TASK-103

**任务描述：**
实现JWT认证模块，包括Token生成、验证、刷新等功能。

**参考文档：**
- `docs/API接口文档.md` 第3.1节（认证模块）
- `产品构想和规划书.md` 第429-442行（用户系统）

**技术要求：**
- 使用 @nestjs/jwt
- 实现Token生成和验证
- 实现Token刷新机制
- 实现认证守卫（Guard）

**验收标准：**
- Token生成和验证正常
- 认证守卫可正常使用
- 支持Token刷新

**输出物：**
- `backend/src/modules/auth/auth.module.ts`
- `backend/src/modules/auth/auth.service.ts`
- `backend/src/modules/auth/jwt.strategy.ts`
- `backend/src/common/guards/jwt-auth.guard.ts`

---

#### TASK-105: 实现全局异常处理和统一响应格式

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P0  
**依赖任务：** TASK-102

**任务描述：**
实现全局异常处理拦截器和统一响应格式。

**参考文档：**
- `docs/API接口文档.md` 第2.3-2.4节（响应格式和错误码）

**技术要求：**
- 使用 NestJS 异常过滤器
- 统一响应格式
- 错误码映射
- 日志记录

**验收标准：**
- 所有接口返回统一格式
- 异常正确捕获和处理
- 错误码正确映射

**输出物：**
- `backend/src/common/filters/http-exception.filter.ts`
- `backend/src/common/interceptors/transform.interceptor.ts`
- `backend/src/common/dto/response.dto.ts`

---

#### TASK-106: 配置阿里云OSS上传模块

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P1  
**依赖任务：** TASK-102

**任务描述：**
配置阿里云OSS文件上传功能，支持图片和视频上传。

**参考文档：**
- `当前项目初始描述.md` 第21行（文件存储：阿里云OSS）
- `产品构想和规划书.md` 第596行（文件存储）

**技术要求：**
- 使用 ali-oss SDK
- 实现文件上传接口
- 支持图片和视频
- 配置CDN加速

**验收标准：**
- 文件可正常上传到OSS
- 返回正确的URL
- 支持图片和视频格式

**输出物：**
- `backend/src/modules/upload/upload.module.ts`
- `backend/src/modules/upload/upload.service.ts`
- `backend/src/modules/upload/upload.controller.ts`

---

#### TASK-107: 实现图片处理（Sharp）

**所属阶段：** 阶段1  
**所属模块：** 后端基础架构  
**优先级：** P1  
**依赖任务：** TASK-106

**任务描述：**
使用Sharp实现图片压缩、裁剪、格式转换等功能。

**参考文档：**
- `当前项目初始描述.md` 第22行（图片处理：Sharp）

**技术要求：**
- 使用 Sharp 库
- 实现图片压缩
- 实现图片裁剪
- 支持格式转换

**验收标准：**
- 图片可正常压缩
- 裁剪功能正常
- 格式转换成功

**输出物：**
- `backend/src/common/utils/image.util.ts`
- 集成到上传模块

---

#### TASK-108: 配置UniApp基础组件和样式

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-100

**任务描述：**
配置uView UI组件库，实现统一样式变量和基础组件。

**参考文档：**
- `产品构想和规划书.md` 第660-704行（UI设计规范）
- `参考设计图/` 所有设计图

**技术要求：**
- 配置 uView UI
- 定义统一样式变量（颜色、字体、间距等）
- 实现基础组件（按钮、输入框、卡片等）

**验收标准：**
- 组件库正常使用
- 样式变量统一
- 基础组件可用

**输出物：**
- `uniapp/uni.scss`（样式变量）
- `uniapp/components/`（基础组件）
- `uniapp/uview-ui/`（组件库配置）

---

#### TASK-109: 配置Nuxt.js基础组件和样式

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-101

**任务描述：**
配置Element Plus组件库，实现统一样式系统。

**参考文档：**
- `产品构想和规划书.md` 第660-704行（UI设计规范）

**技术要求：**
- 配置 Element Plus
- 定义统一样式变量
- 实现基础组件

**验收标准：**
- 组件库正常使用
- 样式系统统一
- 基础组件可用

**输出物：**
- `nuxtjs/assets/styles/`（样式文件）
- `nuxtjs/components/`（基础组件）

---

#### TASK-110: 实现UniApp请求封装

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-100, TASK-104

**任务描述：**
封装axios请求，实现请求拦截、响应拦截、错误处理等。

**参考文档：**
- `docs/API接口文档.md` 第2.2节（请求格式）
- `docs/API接口文档.md` 第5.2节（UniApp调用示例）

**技术要求：**
- 使用 axios
- 实现请求拦截（添加Token）
- 实现响应拦截（统一处理）
- 实现错误处理
- 实现Token刷新

**验收标准：**
- 请求可正常发送
- Token自动添加
- 错误正确处理
- 支持Token刷新

**输出物：**
- `uniapp/utils/request.js`
- `uniapp/api/`（API接口文件）

---

#### TASK-111: 实现Nuxt.js请求封装

**所属阶段：** 阶段1  
**所属模块：** 前端基础架构  
**优先级：** P0  
**依赖任务：** TASK-101, TASK-104

**任务描述：**
封装axios/$fetch请求，支持SSR。

**参考文档：**
- `docs/API接口文档.md` 第2.2节（请求格式）
- `docs/API接口文档.md` 第5.1节（JavaScript调用示例）

**技术要求：**
- 使用 axios 或 $fetch
- 支持SSR环境
- 实现请求拦截
- 实现响应拦截

**验收标准：**
- 请求可正常发送
- SSR环境正常
- 错误处理正确

**输出物：**
- `nuxtjs/composables/useApi.ts`
- `nuxtjs/utils/request.ts`

---

#### TASK-112: 实现数据统计SDK（统一接口）

**所属阶段：** 阶段1  
**所属模块：** 数据统计  
**优先级：** P1  
**依赖任务：** TASK-110, TASK-111

**任务描述：**
开发统一的数据统计SDK，支持页面访问和点击事件统计。

**参考文档：**
- `产品构想和规划书.md` 第538-565行（数据统计系统）
- `docs/API接口文档.md` 第3.10节（统计模块）

**技术要求：**
- 统一接口设计
- 支持页面访问统计
- 支持点击事件统计
- 支持批量上报
- 支持本地缓存

**验收标准：**
- SDK可正常使用
- 数据正确上报
- 本地缓存正常

**输出物：**
- `uniapp/utils/statistics.js`
- `nuxtjs/composables/useStatistics.ts`
- `backend/src/modules/statistics/`（统计模块）

---

### 阶段2：用户系统与认证

#### TASK-200: 实现用户注册接口

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-103, TASK-104

**任务描述：**
实现用户注册接口，支持手机号/邮箱注册。

**参考文档：**
- `docs/API接口文档.md` 第3.1.1节（用户注册）
- `docs/数据库设计.md` User表设计
- `产品构想和规划书.md` 第431-436行（注册登录）

**技术要求：**
- 参数验证
- 密码加密（bcrypt）
- 用户名唯一性检查
- 返回Token

**验收标准：**
- 注册功能正常
- 数据正确保存
- 返回Token

**输出物：**
- `backend/src/modules/user/user.service.ts`（注册方法）
- `backend/src/modules/user/user.controller.ts`（注册接口）

---

#### TASK-201: 实现用户登录接口

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-200

**任务描述：**
实现用户登录接口，支持账号密码登录。

**参考文档：**
- `docs/API接口文档.md` 第3.1.2节（用户登录）
- `产品构想和规划书.md` 第431-436行（注册登录）

**技术要求：**
- 密码验证
- 生成JWT Token
- 返回用户信息

**验收标准：**
- 登录功能正常
- Token正确生成
- 用户信息正确返回

**输出物：**
- `backend/src/modules/user/user.service.ts`（登录方法）
- `backend/src/modules/user/user.controller.ts`（登录接口）

---

#### TASK-202: 实现忘记密码功能

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P1  
**依赖任务：** TASK-201

**任务描述：**
实现忘记密码和重置密码功能。

**参考文档：**
- `docs/API接口文档.md` 第3.1.5-3.1.6节（忘记密码、重置密码）

**技术要求：**
- 验证码发送（可选）
- 重置Token生成
- 密码重置

**验收标准：**
- 忘记密码流程正常
- 密码重置成功

**输出物：**
- `backend/src/modules/user/user.service.ts`（忘记密码、重置密码方法）
- `backend/src/modules/user/user.controller.ts`（相关接口）

---

#### TASK-203: 开发UniApp登录页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-201, TASK-110

**任务描述：**
开发UniApp登录页面，包含登录表单和交互。

**参考文档：**
- `参考设计图/`（如果有登录页设计图）
- `docs/API接口文档.md` 第3.1.2节（用户登录）
- `产品构想和规划书.md` 第431-436行（注册登录）

**技术要求：**
- 使用 uView UI 组件
- 表单验证
- 调用登录接口
- 保存Token
- 跳转到首页

**验收标准：**
- 页面UI符合设计
- 登录功能正常
- Token正确保存
- 跳转正常

**输出物：**
- `uniapp/pages/login/login.vue`
- `uniapp/pages/login/login.json`（页面配置）

---

#### TASK-204: 开发UniApp注册页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-200, TASK-110

**任务描述：**
开发UniApp注册页面。

**参考文档：**
- `docs/API接口文档.md` 第3.1.1节（用户注册）

**技术要求：**
- 表单验证
- 调用注册接口
- 自动登录

**验收标准：**
- 注册功能正常
- 自动登录成功

**输出物：**
- `uniapp/pages/register/register.vue`

---

#### TASK-205: 开发Nuxt.js登录页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-201, TASK-111

**任务描述：**
开发Nuxt.js登录页面，支持SSR。

**参考文档：**
- `docs/API接口文档.md` 第3.1.2节（用户登录）

**技术要求：**
- 使用 Element Plus 组件
- 支持SSR
- 表单验证
- 调用登录接口

**验收标准：**
- 页面正常渲染
- 登录功能正常
- SSR正常

**输出物：**
- `nuxtjs/pages/login.vue`

---

#### TASK-206: 开发Nuxt.js注册页面

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-200, TASK-111

**任务描述：**
开发Nuxt.js注册页面。

**参考文档：**
- `docs/API接口文档.md` 第3.1.1节（用户注册）

**技术要求：**
- 表单验证
- 调用注册接口
- 支持SSR

**验收标准：**
- 注册功能正常
- SSR正常

**输出物：**
- `nuxtjs/pages/register.vue`

---

#### TASK-207: 实现UniApp登录状态管理

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-203

**任务描述：**
使用Pinia实现登录状态管理，包括Token持久化。

**参考文档：**
- `产品构想和规划书.md` 第575行（状态管理：Pinia）

**技术要求：**
- 使用 Pinia
- 保存用户信息
- Token持久化
- 自动刷新Token

**验收标准：**
- 状态管理正常
- Token持久化成功
- 自动刷新正常

**输出物：**
- `uniapp/store/user.ts`

---

#### TASK-208: 实现Nuxt.js登录状态管理

**所属阶段：** 阶段2  
**所属模块：** 用户系统  
**优先级：** P0  
**依赖任务：** TASK-205

**任务描述：**
使用Pinia实现登录状态管理，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第585行（状态管理：Pinia）

**技术要求：**
- 使用 Pinia
- 支持SSR
- 保存用户信息
- Token持久化

**验收标准：**
- 状态管理正常
- SSR正常
- Token持久化成功

**输出物：**
- `nuxtjs/store/user.ts`

---

### 阶段3：核心页面开发

#### TASK-300: 开发Page 1 - 首页发现页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-207, TASK-110

**任务描述：**
开发首页发现页，实现双列瀑布流布局。

**参考文档：**
- `产品构想和规划书.md` 第33-68行（首页-发现页）
- `参考设计图/1.首页-发现.png`
- `参考html/Page 1.html`
- `docs/API接口文档.md` 第3.3.1节（获取内容列表）

**技术要求：**
- 双列瀑布流布局
- 下拉刷新
- 上拉加载更多
- 内容卡片组件
- 顶部导航栏（关注/发现/热门岛屿标签切换）
- 搜索入口
- 底部导航栏

**验收标准：**
- 页面UI符合设计图
- 瀑布流正常显示
- 刷新和加载正常
- 交互流畅

**输出物：**
- `uniapp/pages/index/index.vue`
- `uniapp/components/PostCard.vue`（内容卡片组件）
- `uniapp/components/TabBar.vue`（底部导航栏）

---

#### TASK-301: 开发Page 1 - 首页发现页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-208, TASK-111

**任务描述：**
开发Web端首页发现页，支持SSR。

**参考文档：**
- `产品构想和规划书.md` 第33-68行（首页-发现页）
- `参考设计图/1.首页-发现.png`
- `参考html/Page 1.html`
- `docs/API接口文档.md` 第3.3.1节（获取内容列表）

**技术要求：**
- 双列瀑布流布局
- 下拉刷新
- 上拉加载更多
- 支持SSR
- SEO优化

**验收标准：**
- 页面UI符合设计
- SSR正常
- SEO优化完成

**输出物：**
- `nuxtjs/pages/index.vue`
- `nuxtjs/components/PostCard.vue`

---

#### TASK-302: 实现内容列表接口

**所属阶段：** 阶段3  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现获取内容列表接口，支持分页、筛选、排序。

**参考文档：**
- `docs/API接口文档.md` 第3.3.1节（获取内容列表）
- `docs/数据库设计.md` Post表设计

**技术要求：**
- 分页查询
- 支持筛选（分类、媒体类型）
- 支持排序（最新、最热）
- 关联用户信息
- 关联岛屿信息

**验收标准：**
- 接口返回正确数据
- 分页正常
- 筛选和排序正常

**输出物：**
- `backend/src/modules/content/content.service.ts`（列表方法）
- `backend/src/modules/content/content.controller.ts`（列表接口）

---

#### TASK-303: 开发Page 2 - 首页关注页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-300

**任务描述：**
开发首页关注页，展示关注用户的动态。

**参考文档：**
- `产品构想和规划书.md` 第70-101行（首页-关注页）
- `参考设计图/2.首页-关注.png`
- `参考html/Page 2.html`
- `docs/API接口文档.md` 第3.3.2节（获取关注动态）

**技术要求：**
- 单列卡片流
- 动态卡片组件
- 互动按钮（点赞、评论、收藏、分享）
- 空状态处理

**验收标准：**
- 页面UI符合设计
- 动态流正常显示
- 互动功能正常

**输出物：**
- `uniapp/pages/index/following.vue`
- `uniapp/components/FeedCard.vue`（动态卡片组件）

---

#### TASK-304: 开发Page 2 - 首页关注页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-301

**任务描述：**
开发Web端首页关注页。

**参考文档：**
- `产品构想和规划书.md` 第70-101行（首页-关注页）
- `参考设计图/2.首页-关注.png`
- `参考html/Page 2.html`

**技术要求：**
- 单列卡片流
- 支持SSR
- 互动功能

**验收标准：**
- 页面正常显示
- SSR正常

**输出物：**
- `nuxtjs/pages/following.vue`

---

#### TASK-305: 实现关注动态接口

**所属阶段：** 阶段3  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-302

**任务描述：**
实现获取关注动态接口。

**参考文档：**
- `docs/API接口文档.md` 第3.3.2节（获取关注动态）
- `docs/数据库设计.md` Follow表设计

**技术要求：**
- 查询关注用户的帖子
- 按时间排序
- 分页查询

**验收标准：**
- 接口返回正确数据
- 只返回关注用户的动态

**输出物：**
- `backend/src/modules/content/content.service.ts`（关注动态方法）
- `backend/src/modules/content/content.controller.ts`（关注动态接口）

---

#### TASK-306: 开发Page 3 - 首页热门岛屿页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-300

**任务描述：**
开发首页热门岛屿页。

**参考文档：**
- `产品构想和规划书.md` 第103-143行（首页-热门岛屿页）
- `参考设计图/3.首页-热门岛屿.png`
- `参考html/Page 3.html`
- `docs/API接口文档.md` 第3.4.2节（获取热门岛屿）

**技术要求：**
- 为你推荐区域（横向滚动）
- 分类筛选标签
- 岛屿列表卡片
- 加入岛屿功能

**验收标准：**
- 页面UI符合设计
- 推荐区域正常滚动
- 分类筛选正常
- 加入功能正常

**输出物：**
- `uniapp/pages/index/hot-islands.vue`
- `uniapp/components/IslandCard.vue`（岛屿卡片组件）

---

#### TASK-307: 开发Page 3 - 首页热门岛屿页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 首页模块  
**优先级：** P0  
**依赖任务：** TASK-301

**任务描述：**
开发Web端首页热门岛屿页。

**参考文档：**
- `产品构想和规划书.md` 第103-143行（首页-热门岛屿页）
- `参考设计图/3.首页-热门岛屿.png`
- `参考html/Page 3.html`

**技术要求：**
- 推荐区域横向滚动
- 分类筛选
- 支持SSR

**验收标准：**
- 页面正常显示
- SSR正常

**输出物：**
- `nuxtjs/pages/hot-islands.vue`

---

#### TASK-308: 实现热门岛屿接口

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现获取热门岛屿接口。

**参考文档：**
- `docs/API接口文档.md` 第3.4.2节（获取热门岛屿）
- `docs/数据库设计.md` Island表设计

**技术要求：**
- 按成员数或帖子数排序
- 支持分类筛选
- 限制返回数量

**验收标准：**
- 接口返回热门岛屿
- 排序正确

**输出物：**
- `backend/src/modules/island/island.service.ts`（热门岛屿方法）
- `backend/src/modules/island/island.controller.ts`（热门岛屿接口）

---

#### TASK-309: 开发Page 4 - 岛屿-加入的岛屿页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-207, TASK-110

**任务描述：**
开发加入的岛屿页面。

**参考文档：**
- `产品构想和规划书.md` 第145-175行（岛屿-加入的岛屿页）
- `参考设计图/4.岛屿-加入的岛屿.png`
- `参考html/Page 4.html`
- `docs/API接口文档.md` 第3.4.3节（获取我的岛屿）

**技术要求：**
- 我的岛屿列表
- 筛选和排序功能
- 岛屿卡片展示
- 创建岛屿入口

**验收标准：**
- 页面UI符合设计
- 列表正常显示
- 筛选排序正常

**输出物：**
- `uniapp/pages/island/my.vue`
- `uniapp/components/IslandCard.vue`（复用）

---

#### TASK-310: 开发Page 4 - 岛屿-加入的岛屿页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-208, TASK-111

**任务描述：**
开发Web端加入的岛屿页面。

**参考文档：**
- `产品构想和规划书.md` 第145-175行（岛屿-加入的岛屿页）
- `参考设计图/4.岛屿-加入的岛屿.png`
- `参考html/Page 4.html`

**技术要求：**
- 岛屿列表
- 筛选排序
- 支持SSR

**验收标准：**
- 页面正常显示
- SSR正常

**输出物：**
- `nuxtjs/pages/island/my.vue`

---

#### TASK-311: 实现我的岛屿接口

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现获取我的岛屿接口。

**参考文档：**
- `docs/API接口文档.md` 第3.4.3节（获取我的岛屿）
- `docs/数据库设计.md` IslandMember表设计

**技术要求：**
- 查询用户加入的岛屿
- 支持筛选（已加入/我创建的）
- 支持排序

**验收标准：**
- 接口返回正确数据
- 筛选排序正常

**输出物：**
- `backend/src/modules/island/island.service.ts`（我的岛屿方法）
- `backend/src/modules/island/island.controller.ts`（我的岛屿接口）

---

#### TASK-312: 开发Page 5 - 岛屿详情页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-309

**任务描述：**
开发岛屿详情页。

**参考文档：**
- `产品构想和规划书.md` 第177-226行（岛屿详情页）
- `参考设计图/5.岛屿详情.png`
- `参考html/Page 5.html`
- `docs/API接口文档.md` 第3.4.4-3.4.5节（岛屿详情、岛屿内容列表）

**技术要求：**
- 顶部背景区（背景图、返回按钮、更多操作）
- 岛屿信息展示
- 岛主信息
- 岛屿内容瀑布流
- 加入岛屿功能（付费/免费）
- 底部操作栏

**验收标准：**
- 页面UI符合设计
- 信息正确显示
- 加入功能正常

**输出物：**
- `uniapp/pages/island/detail.vue`

---

#### TASK-313: 开发Page 5 - 岛屿详情页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-310

**任务描述：**
开发Web端岛屿详情页。

**参考文档：**
- `产品构想和规划书.md` 第177-226行（岛屿详情页）
- `参考设计图/5.岛屿详情.png`
- `参考html/Page 5.html`

**技术要求：**
- 岛屿信息展示
- 内容瀑布流
- 支持SSR
- SEO优化

**验收标准：**
- 页面正常显示
- SSR正常
- SEO优化完成

**输出物：**
- `nuxtjs/pages/island/[id].vue`

---

#### TASK-314: 实现岛屿详情接口

**所属阶段：** 阶段3  
**所属模块：** 岛屿模块  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现获取岛屿详情和内容列表接口。

**参考文档：**
- `docs/API接口文档.md` 第3.4.4-3.4.5节（岛屿详情、岛屿内容列表）
- `docs/数据库设计.md` Island表、Post表设计

**技术要求：**
- 查询岛屿详情
- 关联岛主信息
- 查询岛屿内容列表
- 分页查询

**验收标准：**
- 接口返回正确数据
- 关联信息完整

**输出物：**
- `backend/src/modules/island/island.service.ts`（详情、内容列表方法）
- `backend/src/modules/island/island.controller.ts`（相关接口）

---

#### TASK-315: 开发Page 6 - 通知页面（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 通知模块  
**优先级：** P0  
**依赖任务：** TASK-207, TASK-110

**任务描述：**
开发通知页面。

**参考文档：**
- `产品构想和规划书.md` 第228-269行（通知和聊天页面）
- `参考设计图/6.通知和聊天页面.png`
- `参考html/Page 6.html`
- `docs/API接口文档.md` 第3.5节（通知模块）

**技术要求：**
- 通知分类（系统/互动/付费）
- 通知列表展示
- 通知详情
- 清除通知功能
- 标记已读

**验收标准：**
- 页面UI符合设计
- 通知列表正常显示
- 清除和标记功能正常

**输出物：**
- `uniapp/pages/notification/index.vue`
- `uniapp/components/NotificationItem.vue`（通知项组件）

---

#### TASK-316: 开发Page 6 - 通知页面（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 通知模块  
**优先级：** P0  
**依赖任务：** TASK-208, TASK-111

**任务描述：**
开发Web端通知页面。

**参考文档：**
- `产品构想和规划书.md` 第228-269行（通知和聊天页面）
- `参考设计图/6.通知和聊天页面.png`
- `参考html/Page 6.html`

**技术要求：**
- 通知分类
- 通知列表
- 支持SSR

**验收标准：**
- 页面正常显示
- SSR正常

**输出物：**
- `nuxtjs/pages/notification.vue`

---

#### TASK-317: 实现通知模块接口

**所属阶段：** 阶段3  
**所属模块：** 通知模块  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现通知模块的所有接口。

**参考文档：**
- `docs/API接口文档.md` 第3.5节（通知模块）
- `docs/数据库设计.md` Notification表设计

**技术要求：**
- 获取通知列表
- 获取通知详情
- 标记已读
- 清除通知

**验收标准：**
- 所有接口正常
- 功能完整

**输出物：**
- `backend/src/modules/notification/notification.module.ts`
- `backend/src/modules/notification/notification.service.ts`
- `backend/src/modules/notification/notification.controller.ts`

---

#### TASK-318: 开发Page 7 - 个人页面（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-207, TASK-110

**任务描述：**
开发个人页面。

**参考文档：**
- `产品构想和规划书.md` 第271-311行（个人页面）
- `参考设计图/7.个人页面.png`
- `参考html/Page 7.html`
- `docs/API接口文档.md` 第3.2.1节（获取当前用户信息）

**技术要求：**
- 顶部个人信息区（渐变背景、头像、昵称、数据统计）
- 金币余额卡片
- 快捷功能区
- 功能列表

**验收标准：**
- 页面UI符合设计
- 信息正确显示
- 功能入口正常

**输出物：**
- `uniapp/pages/profile/index.vue`

---

#### TASK-319: 开发Page 7 - 个人页面（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-208, TASK-111

**任务描述：**
开发Web端个人页面。

**参考文档：**
- `产品构想和规划书.md` 第271-311行（个人页面）
- `参考设计图/7.个人页面.png`
- `参考html/Page 7.html`

**技术要求：**
- 个人信息展示
- 功能列表
- 支持SSR

**验收标准：**
- 页面正常显示
- SSR正常

**输出物：**
- `nuxtjs/pages/profile.vue`

---

#### TASK-320: 开发Page 8 - 申请入驻页面（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P1  
**依赖任务：** TASK-318

**任务描述：**
开发申请入驻页面。

**参考文档：**
- `产品构想和规划书.md` 第313-354行（申请入驻页面）
- `参考设计图/8.申请入驻.png`
- `参考html/Page 8.html`
- `docs/API接口文档.md` 第3.9.1节（申请入驻）

**技术要求：**
- 创作者权益展示（2x2网格）
- 申请表单
- 资质上传
- 表单验证
- 提交审核

**验收标准：**
- 页面UI符合设计
- 表单验证正常
- 提交功能正常

**输出物：**
- `uniapp/pages/profile/creator-apply.vue`

---

#### TASK-321: 开发Page 8 - 申请入驻页面（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P1  
**依赖任务：** TASK-319

**任务描述：**
开发Web端申请入驻页面。

**参考文档：**
- `产品构想和规划书.md` 第313-354行（申请入驻页面）
- `参考设计图/8.申请入驻.png`
- `参考html/Page 8.html`

**技术要求：**
- 权益展示
- 申请表单
- 文件上传
- 支持SSR

**验收标准：**
- 页面正常显示
- 表单功能正常

**输出物：**
- `nuxtjs/pages/profile/creator-apply.vue`

---

#### TASK-322: 实现创作者申请接口

**所属阶段：** 阶段3  
**所属模块：** 创作者模块  
**优先级：** P1  
**依赖任务：** TASK-103

**任务描述：**
实现创作者申请和查询状态接口。

**参考文档：**
- `docs/API接口文档.md` 第3.9节（创作者模块）
- `docs/数据库设计.md` CreatorApplication表设计

**技术要求：**
- 提交申请
- 查询申请状态
- 文件上传处理

**验收标准：**
- 申请提交成功
- 状态查询正常

**输出物：**
- `backend/src/modules/creator/creator.module.ts`
- `backend/src/modules/creator/creator.service.ts`
- `backend/src/modules/creator/creator.controller.ts`

---

#### TASK-323: 开发Page 9 - 发布弹窗（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-318

**任务描述：**
开发发布弹窗组件。

**参考文档：**
- `产品构想和规划书.md` 第356-384行（发布弹窗）
- `参考设计图/9.加号发布弹窗.png`
- `参考html/Page 9.html`

**技术要求：**
- 弹窗容器（半透明遮罩）
- 发布选项（发布个人动态、发布岛屿帖子）
- 点击关闭
- 选择发布类型跳转

**验收标准：**
- 弹窗UI符合设计
- 交互正常
- 跳转正常

**输出物：**
- `uniapp/components/PublishModal.vue`

---

#### TASK-324: 开发Page 9 - 发布弹窗（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-319

**任务描述：**
开发Web端发布弹窗组件。

**参考文档：**
- `产品构想和规划书.md` 第356-384行（发布弹窗）
- `参考设计图/9.加号发布弹窗.png`
- `参考html/Page 9.html`

**技术要求：**
- 弹窗组件
- 发布选项
- 交互功能

**验收标准：**
- 弹窗正常显示
- 交互正常

**输出物：**
- `nuxtjs/components/PublishModal.vue`

---

#### TASK-325: 开发Page 10 - 个人主页（UniApp）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-318

**任务描述：**
开发个人主页。

**参考文档：**
- `产品构想和规划书.md` 第386-425行（个人主页）
- `参考设计图/10.个人主页.png`
- `参考html/Page 10.html`
- `docs/API接口文档.md` 第3.2.4节（获取用户主页信息）

**技术要求：**
- 顶部背景区（背景图、返回按钮、更多操作、用户信息覆盖层）
- 用户信息卡片
- 用户动态瀑布流（2列）
- 关注/取消关注功能
- 分享功能

**验收标准：**
- 页面UI符合设计
- 信息正确显示
- 关注功能正常

**输出物：**
- `uniapp/pages/user/[id].vue`

---

#### TASK-326: 开发Page 10 - 个人主页（Nuxt.js）

**所属阶段：** 阶段3  
**所属模块：** 个人中心模块  
**优先级：** P0  
**依赖任务：** TASK-319

**任务描述：**
开发Web端个人主页。

**参考文档：**
- `产品构想和规划书.md` 第386-425行（个人主页）
- `参考设计图/10.个人主页.png`
- `参考html/Page 10.html`

**技术要求：**
- 用户信息展示
- 动态瀑布流
- 支持SSR
- SEO优化

**验收标准：**
- 页面正常显示
- SSR正常
- SEO优化完成

**输出物：**
- `nuxtjs/pages/user/[id].vue`

---

#### TASK-327: 实现用户主页接口

**所属阶段：** 阶段3  
**所属模块：** 用户模块  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现获取用户主页信息和用户帖子列表接口。

**参考文档：**
- `docs/API接口文档.md` 第3.2.4节（获取用户主页信息）
- `docs/数据库设计.md` User表、Post表设计

**技术要求：**
- 查询用户信息
- 查询用户帖子列表
- 关联关注关系
- 分页查询

**验收标准：**
- 接口返回正确数据
- 关注关系正确

**输出物：**
- `backend/src/modules/user/user.service.ts`（用户主页方法）
- `backend/src/modules/user/user.controller.ts`（用户主页接口）

---

### 阶段4：社交与互动功能

#### TASK-500: 实现内容发布接口

**所属阶段：** 阶段4  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-302, TASK-106

**任务描述：**
实现发布内容接口，支持文字、图片、视频。

**参考文档：**
- `docs/API接口文档.md` 第3.3.4节（发布内容）
- `产品构想和规划书.md` 第446-452行（内容发布）

**技术要求：**
- 支持文字动态
- 支持图片动态（多图）
- 支持视频动态
- 支持岛屿帖子
- 文件上传处理

**验收标准：**
- 发布功能正常
- 文件上传成功
- 数据正确保存

**输出物：**
- `backend/src/modules/content/content.service.ts`（发布方法）
- `backend/src/modules/content/content.controller.ts`（发布接口）

---

#### TASK-501: 开发内容发布页面（UniApp）

**所属阶段：** 阶段4  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-323, TASK-500

**任务描述：**
开发内容发布页面，支持文字、图片、视频发布。

**参考文档：**
- `产品构想和规划书.md` 第446-452行（内容发布）
- `docs/API接口文档.md` 第3.3.4节（发布内容）

**技术要求：**
- 文字输入
- 图片选择（多图）
- 视频选择
- 图片压缩
- 视频压缩
- 发布按钮

**验收标准：**
- 发布页面正常
- 文件选择正常
- 压缩功能正常
- 发布成功

**输出物：**
- `uniapp/pages/publish/index.vue`

---

#### TASK-502: 开发内容发布页面（Nuxt.js）

**所属阶段：** 阶段4  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-324, TASK-500

**任务描述：**
开发Web端内容发布页面。

**参考文档：**
- `产品构想和规划书.md` 第446-452行（内容发布）
- `docs/API接口文档.md` 第3.3.4节（发布内容）

**技术要求：**
- 文字输入
- 文件上传
- 发布功能

**验收标准：**
- 发布页面正常
- 上传功能正常

**输出物：**
- `nuxtjs/pages/publish.vue`

---

#### TASK-503: 实现点赞功能

**所属阶段：** 阶段4  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-302

**任务描述：**
实现帖子点赞和取消点赞功能。

**参考文档：**
- `docs/API接口文档.md` 第3.3.7-3.3.8节（点赞、取消点赞）
- `docs/数据库设计.md` PostLike表设计
- `产品构想和规划书.md` 第462行（点赞）

**技术要求：**
- 点赞接口
- 取消点赞接口
- 更新点赞数
- 防止重复点赞

**验收标准：**
- 点赞功能正常
- 点赞数正确更新
- 不能重复点赞

**输出物：**
- `backend/src/modules/content/content.service.ts`（点赞方法）
- `backend/src/modules/content/content.controller.ts`（点赞接口）

---

#### TASK-504: 实现收藏功能

**所属阶段：** 阶段4  
**所属模块：** 内容模块  
**优先级：** P0  
**依赖任务：** TASK-302

**任务描述：**
实现帖子收藏和取消收藏功能。

**参考文档：**
- `docs/API接口文档.md` 第3.3.9-3.3.10节（收藏、取消收藏）
- `docs/数据库设计.md` PostCollect表设计
- `产品构想和规划书.md` 第464行（收藏）

**技术要求：**
- 收藏接口
- 取消收藏接口
- 更新收藏数
- 防止重复收藏

**验收标准：**
- 收藏功能正常
- 收藏数正确更新

**输出物：**
- `backend/src/modules/content/content.service.ts`（收藏方法）
- `backend/src/modules/content/content.controller.ts`（收藏接口）

---

#### TASK-505: 实现评论功能

**所属阶段：** 阶段4  
**所属模块：** 评论模块  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现评论功能，支持回复。

**参考文档：**
- `docs/API接口文档.md` 第3.6节（评论模块）
- `docs/数据库设计.md` Comment表设计
- `产品构想和规划书.md` 第463行（评论）

**技术要求：**
- 发表评论接口
- 获取评论列表接口
- 删除评论接口
- 支持回复（parent_id）
- 点赞评论接口

**验收标准：**
- 评论功能正常
- 回复功能正常
- 点赞评论正常

**输出物：**
- `backend/src/modules/comment/comment.module.ts`
- `backend/src/modules/comment/comment.service.ts`
- `backend/src/modules/comment/comment.controller.ts`

---

#### TASK-506: 开发评论组件（UniApp）

**所属阶段：** 阶段4  
**所属模块：** 评论模块  
**优先级：** P0  
**依赖任务：** TASK-505

**任务描述：**
开发评论组件，支持评论列表和发表评论。

**参考文档：**
- `docs/API接口文档.md` 第3.6节（评论模块）

**技术要求：**
- 评论列表展示
- 发表评论
- 回复评论
- 点赞评论
- 删除评论

**验收标准：**
- 评论组件正常
- 所有功能正常

**输出物：**
- `uniapp/components/CommentList.vue`
- `uniapp/components/CommentItem.vue`

---

#### TASK-507: 开发评论组件（Nuxt.js）

**所属阶段：** 阶段4  
**所属模块：** 评论模块  
**优先级：** P0  
**依赖任务：** TASK-505

**任务描述：**
开发Web端评论组件。

**参考文档：**
- `docs/API接口文档.md` 第3.6节（评论模块）

**技术要求：**
- 评论列表
- 发表评论
- 回复功能
- 支持SSR

**验收标准：**
- 评论组件正常
- SSR正常

**输出物：**
- `nuxtjs/components/CommentList.vue`
- `nuxtjs/components/CommentItem.vue`

---

#### TASK-508: 实现关注系统接口

**所属阶段：** 阶段4  
**所属模块：** 社交系统  
**优先级：** P0  
**依赖任务：** TASK-103

**任务描述：**
实现关注和取消关注功能。

**参考文档：**
- `docs/API接口文档.md` 第3.2.7-3.2.8节（关注、取消关注）
- `docs/数据库设计.md` Follow表设计
- `产品构想和规划书.md` 第498-503行（关注系统）

**技术要求：**
- 关注接口
- 取消关注接口
- 获取关注列表接口
- 获取粉丝列表接口
- 更新关注数/粉丝数

**验收标准：**
- 关注功能正常
- 列表查询正常
- 数量正确更新

**输出物：**
- `backend/src/modules/user/user.service.ts`（关注相关方法）
- `backend/src/modules/user/user.controller.ts`（关注相关接口）

---

#### TASK-509: 实现搜索功能接口

**所属阶段：** 阶段4  
**所属模块：** 搜索模块  
**优先级：** P1  
**依赖任务：** TASK-302

**任务描述：**
实现搜索功能，支持内容、用户、岛屿搜索。

**参考文档：**
- `docs/API接口文档.md` 第3.7节（搜索模块）
- `产品构想和规划书.md` 第864-868行（搜索功能）

**技术要求：**
- 内容搜索接口
- 用户搜索接口
- 岛屿搜索接口
- 关键词匹配
- 分页查询

**验收标准：**
- 搜索功能正常
- 结果准确
- 分页正常

**输出物：**
- `backend/src/modules/search/search.module.ts`
- `backend/src/modules/search/search.service.ts`
- `backend/src/modules/search/search.controller.ts`

---

#### TASK-510: 开发搜索页面（UniApp）

**所属阶段：** 阶段4  
**所属模块：** 搜索模块  
**优先级：** P1  
**依赖任务：** TASK-509

**任务描述：**
开发搜索页面，支持内容、用户、岛屿搜索。

**参考文档：**
- `docs/API接口文档.md` 第3.7节（搜索模块）

**技术要求：**
- 搜索输入框
- 搜索类型切换（内容/用户/岛屿）
- 搜索结果展示
- 分页加载

**验收标准：**
- 搜索页面正常
- 结果正确显示

**输出物：**
- `uniapp/pages/search/index.vue`

---

#### TASK-511: 开发搜索页面（Nuxt.js）

**所属阶段：** 阶段4  
**所属模块：** 搜索模块  
**优先级：** P1  
**依赖任务：** TASK-509

**任务描述：**
开发Web端搜索页面。

**参考文档：**
- `docs/API接口文档.md` 第3.7节（搜索模块）

**技术要求：**
- 搜索功能
- 结果展示
- 支持SSR
- SEO优化

**验收标准：**
- 搜索页面正常
- SSR正常

**输出物：**
- `nuxtjs/pages/search.vue`

---

### 阶段5：金币系统与支付

#### TASK-600: 实现金币系统接口

**所属阶段：** 阶段5  
**所属模块：** 金币系统  
**优先级：** P1  
**依赖任务：** TASK-103

**任务描述：**
实现金币系统相关接口。

**参考文档：**
- `docs/API接口文档.md` 第3.8节（金币模块）
- `docs/数据库设计.md` CoinTransaction表设计
- `产品构想和规划书.md` 第511-522行（金币系统）

**技术要求：**
- 获取金币余额接口
- 获取交易记录接口
- 金币充值接口
- 金币消费接口
- 更新余额

**验收标准：**
- 余额查询正常
- 交易记录正常
- 充值消费正常

**输出物：**
- `backend/src/modules/coin/coin.module.ts`
- `backend/src/modules/coin/coin.service.ts`
- `backend/src/modules/coin/coin.controller.ts`

---

#### TASK-601: 实现加入岛屿支付功能

**所属阶段：** 阶段5  
**所属模块：** 岛屿模块  
**优先级：** P1  
**依赖任务：** TASK-314, TASK-600

**任务描述：**
实现加入付费岛屿的支付功能。

**参考文档：**
- `docs/API接口文档.md` 第3.4.7节（加入岛屿）
- `产品构想和规划书.md` 第491-494行（加入机制）

**技术要求：**
- 检查岛屿价格
- 扣除金币
- 创建岛屿成员记录
- 记录交易

**验收标准：**
- 支付功能正常
- 金币正确扣除
- 成员记录正确

**输出物：**
- `backend/src/modules/island/island.service.ts`（加入方法更新）
- 集成支付逻辑

---

#### TASK-602: 开发金币充值页面（UniApp）

**所属阶段：** 阶段5  
**所属模块：** 金币系统  
**优先级：** P1  
**依赖任务：** TASK-600

**任务描述：**
开发金币充值页面。

**参考文档：**
- `docs/API接口文档.md` 第3.8.3节（金币充值）
- `产品构想和规划书.md` 第515行（充值购买）

**技术要求：**
- 充值金额选择
- 支付方式选择
- 调用充值接口
- 支付跳转

**验收标准：**
- 充值页面正常
- 支付流程正常

**输出物：**
- `uniapp/pages/coin/recharge.vue`

---

#### TASK-603: 开发金币充值页面（Nuxt.js）

**所属阶段：** 阶段5  
**所属模块：** 金币系统  
**优先级：** P1  
**依赖任务：** TASK-600

**任务描述：**
开发Web端金币充值页面。

**参考文档：**
- `docs/API接口文档.md` 第3.8.3节（金币充值）

**技术要求：**
- 充值功能
- 支付集成
- 支持SSR

**验收标准：**
- 充值页面正常
- 支付正常

**输出物：**
- `nuxtjs/pages/coin/recharge.vue`

---

### 阶段6：后台管理系统

#### TASK-700: 初始化后台管理系统项目

**所属阶段：** 阶段6  
**所属模块：** 后台管理  
**优先级：** P1  
**依赖任务：** TASK-002

**任务描述：**
创建Vue 3 + Element Plus后台管理系统项目。

**参考文档：**
- `产品构想和规划书.md` 第784-790行（后台技术栈）

**技术要求：**
- Vue 3 + TypeScript
- Element Plus
- Pinia
- Vue Router
- axios

**验收标准：**
- 项目可正常启动
- 基础配置完成

**输出物：**
- `admin/` 目录及基础文件
- `admin/package.json`

---

#### TASK-701: 开发后台登录页面

**所属阶段：** 阶段6  
**所属模块：** 后台管理  
**优先级：** P0  
**依赖任务：** TASK-700

**任务描述：**
开发后台管理系统登录页面。

**参考文档：**
- `产品构想和规划书.md` 第730-782行（后台管理系统）

**技术要求：**
- 登录表单
- 调用登录接口
- 权限验证

**验收标准：**
- 登录功能正常
- 权限验证正常

**输出物：**
- `admin/src/views/login.vue`

---

#### TASK-702: 开发用户管理模块

**所属阶段：** 阶段6  
**所属模块：** 后台管理  
**优先级：** P0  
**依赖任务：** TASK-701

**任务描述：**
开发用户管理模块，包括用户列表、详情、状态管理。

**参考文档：**
- `产品构想和规划书.md` 第734-739行（用户管理）

**技术要求：**
- 用户列表（搜索、筛选）
- 用户详情查看
- 用户状态管理（封禁/解封）
- 用户数据统计

**验收标准：**
- 用户管理功能完整
- 增删改查正常

**输出物：**
- `admin/src/views/user/list.vue`
- `admin/src/views/user/detail.vue`

---

#### TASK-703: 开发内容管理模块

**所属阶段：** 阶段6  
**所属模块：** 后台管理  
**优先级：** P0  
**依赖任务：** TASK-701

**任务描述：**
开发内容管理模块。

**参考文档：**
- `产品构想和规划书.md` 第741-746行（内容管理）

**技术要求：**
- 帖子列表（搜索、筛选）
- 内容审核（通过/拒绝/删除）
- 举报处理
- 内容数据统计

**验收标准：**
- 内容管理功能完整
- 审核功能正常

**输出物：**
- `admin/src/views/content/list.vue`
- `admin/src/views/content/audit.vue`

---

#### TASK-704: 开发岛屿管理模块

**所属阶段：** 阶段6  
**所属模块：** 后台管理  
**优先级：** P0  
**依赖任务：** TASK-701

**任务描述：**
开发岛屿管理模块。

**参考文档：**
- `产品构想和规划书.md` 第748-753行（岛屿管理）

**技术要求：**
- 岛屿列表（搜索、筛选）
- 岛屿审核
- 岛屿设置管理
- 岛屿数据统计

**验收标准：**
- 岛屿管理功能完整
- 审核功能正常

**输出物：**
- `admin/src/views/island/list.vue`
- `admin/src/views/island/audit.vue`

---

#### TASK-705: 开发创作者管理模块

**所属阶段：** 阶段6  
**所属模块：** 后台管理  
**优先级：** P1  
**依赖任务：** TASK-701

**任务描述：**
开发创作者管理模块。

**参考文档：**
- `产品构想和规划书.md` 第755-760行（创作者管理）

**技术要求：**
- 申请列表
- 审核处理（通过/拒绝）
- 创作者信息管理
- 权益管理

**验收标准：**
- 创作者管理功能完整
- 审核功能正常

**输出物：**
- `admin/src/views/creator/list.vue`
- `admin/src/views/creator/audit.vue`

---

#### TASK-706: 开发数据统计模块

**所属阶段：** 阶段6  
**所属模块：** 后台管理  
**优先级：** P1  
**依赖任务：** TASK-701

**任务描述：**
开发数据统计模块，包括各种数据可视化。

**参考文档：**
- `产品构想和规划书.md` 第768-776行（数据统计）

**技术要求：**
- 用户数据统计（注册、活跃、留存）
- 内容数据统计（发布、互动）
- 岛屿数据统计（创建、加入）
- 收入数据统计（金币交易）
- 页面访问统计可视化
- 点击事件统计热力图
- 用户行为分析报表

**验收标准：**
- 统计功能完整
- 图表正常显示
- 数据准确

**输出物：**
- `admin/src/views/statistics/dashboard.vue`
- `admin/src/views/statistics/page-view.vue`
- `admin/src/views/statistics/click-event.vue`

---

### 阶段7：数据统计完善

#### TASK-800: 完善页面统计埋点

**所属阶段：** 阶段7  
**所属模块：** 数据统计  
**优先级：** P1  
**依赖任务：** TASK-112, TASK-300, TASK-301

**任务描述：**
在所有页面添加页面访问统计埋点。

**参考文档：**
- `产品构想和规划书.md` 第538-545行（页面访问统计）
- `docs/API接口文档.md` 第3.10.1节（上报页面访问）

**技术要求：**
- 在所有页面添加统计
- 记录页面路径、标题、停留时长
- 批量上报

**验收标准：**
- 所有页面都有统计
- 数据正确上报

**输出物：**
- 更新所有页面文件，添加统计代码

---

#### TASK-801: 完善点击事件统计埋点

**所属阶段：** 阶段7  
**所属模块：** 数据统计  
**优先级：** P1  
**依赖任务：** TASK-112

**任务描述：**
在所有关键交互处添加点击事件统计埋点。

**参考文档：**
- `产品构想和规划书.md` 第547-552行（点击事件统计）
- `docs/API接口文档.md` 第3.10.2节（上报点击事件）

**技术要求：**
- 按钮点击统计
- 卡片点击统计
- 链接点击统计
- 交互行为统计

**验收标准：**
- 关键交互都有统计
- 数据正确上报

**输出物：**
- 更新相关组件，添加统计代码

---

#### TASK-802: 实现统计数据分析接口

**所属阶段：** 阶段7  
**所属模块：** 数据统计  
**优先级：** P1  
**依赖任务：** TASK-112

**任务描述：**
实现统计数据分析接口，支持各种统计查询。

**参考文档：**
- `产品构想和规划书.md` 第561-565行（统计分析）

**技术要求：**
- 页面访问统计查询
- 点击事件统计查询
- 用户行为路径分析
- 转化率分析

**验收标准：**
- 统计查询正常
- 数据准确

**输出物：**
- `backend/src/modules/statistics/statistics.service.ts`（分析方法）
- `backend/src/modules/statistics/statistics.controller.ts`（分析接口）

---

### 阶段8：优化与测试

#### TASK-900: 性能优化

**所属阶段：** 阶段8  
**所属模块：** 优化  
**优先级：** P1  
**依赖任务：** 所有开发任务

**任务描述：**
进行性能优化，包括图片懒加载、虚拟滚动、接口优化等。

**参考文档：**
- `产品构想和规划书.md` 第884-888行（性能优化）

**技术要求：**
- 图片懒加载
- 列表虚拟滚动
- 接口性能优化
- 数据库查询优化
- Web端SSR优化
- SEO优化

**验收标准：**
- 页面加载速度提升
- 接口响应时间优化
- SEO评分提升

**输出物：**
- 优化后的代码文件

---

#### TASK-901: 功能测试

**所属阶段：** 阶段8  
**所属模块：** 测试  
**优先级：** P0  
**依赖任务：** 所有开发任务

**任务描述：**
进行功能测试，确保所有功能正常。

**参考文档：**
- `产品构想和规划书.md` 第890-894行（功能测试）

**技术要求：**
- 单元测试编写
- 集成测试
- 用户体验测试
- Bug修复

**验收标准：**
- 所有功能测试通过
- 无重大Bug

**输出物：**
- 测试报告
- Bug修复记录

---

#### TASK-902: 准备测试数据

**所属阶段：** 阶段8  
**所属模块：** 测试  
**优先级：** P1  
**依赖任务：** TASK-103

**任务描述：**
准备测试数据，包括用户数据、内容数据、岛屿数据和关注关系数据。

**参考文档：**
- `产品构想和规划书.md` 第902-923行（测试数据准备）
- `docs/数据库设计.md`（所有数据表结构）

**技术要求：**
- 创建种子文件（seed.ts）
- 生成测试用户数据
- 生成测试内容数据
- 生成测试岛屿数据
- 生成测试关注关系
- 生成测试点赞和收藏数据
- 生成测试评论数据

**验收标准：**
- 测试数据覆盖所有主要功能
- 数据量满足测试需求
- 数据关系正确
- 可重复执行

**输出物：**
- `backend/prisma/seed.ts`（种子文件）
- 测试数据脚本

---

## 四、任务执行说明

### 4.1 任务执行顺序

1. **严格按照依赖关系执行任务**：每个任务必须在依赖任务完成后才能开始
2. **按阶段顺序执行**：必须先完成阶段0的文档任务，再开始阶段1的基础架构
3. **并行开发**：前后端可以并行开发，但需要先定义好接口文档

### 4.2 任务验收流程

1. **开发完成**：完成代码编写
2. **自测验证**：开发者自测功能是否正常
3. **代码审查**：进行代码审查
4. **功能测试**：进行功能测试
5. **验收确认**：验收通过后标记任务完成

### 4.3 文档更新规范

- 开发过程中发现的问题应及时更新相关文档
- API接口变更需要更新API接口文档
- 数据库变更需要更新数据库设计文档
- 功能变更需要更新开发任务清单

---

**文档版本：** v1.0  
**创建日期：** 2025年1月  
**最后更新：** 2025年1月