# PM2 å¯åŠ¨é—®é¢˜å¿«é€Ÿè¯Šæ–­

## ğŸ” ç«‹å³æ‰§è¡Œçš„è¯Šæ–­å‘½ä»¤

### 1. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼ˆæœ€é‡è¦ï¼ï¼‰

```bash
pm2 logs nuxtjs-app --err --lines 50
```

è¿™ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå¸®åŠ©å®šä½é—®é¢˜ã€‚

### 2. æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—

```bash
pm2 logs nuxtjs-app --lines 50
```

### 3. æŸ¥çœ‹åº”ç”¨è¯¦ç»†ä¿¡æ¯

```bash
pm2 describe nuxtjs-app
```

### 4. åœæ­¢å¹¶åˆ é™¤åº”ç”¨ï¼Œç„¶åé‡æ–°å¯åŠ¨

```bash
# åœæ­¢å¹¶åˆ é™¤
pm2 stop nuxtjs-app
pm2 delete nuxtjs-app

# é‡æ–°å¯åŠ¨ï¼ˆè¿™æ ·å¯ä»¥æŸ¥çœ‹å¯åŠ¨æ—¶çš„æ‰€æœ‰è¾“å‡ºï¼‰
pm2 start ecosystem.config.cjs

# ç«‹å³æŸ¥çœ‹æ—¥å¿—
pm2 logs nuxtjs-app
```

### 5. æ‰‹åŠ¨æµ‹è¯•æ˜¯å¦å¯ä»¥è¿è¡Œ

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /home/objct_b/nuxtjs

# æ‰‹åŠ¨è¿è¡Œï¼ˆçœ‹çœ‹æ˜¯å¦æœ‰é”™è¯¯ï¼‰
node --experimental-fetch .output/server/index.mjs
```

æŒ‰ Ctrl+C åœæ­¢æ‰‹åŠ¨è¿è¡Œã€‚

### 6. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨

```bash
cd /home/objct_b/nuxtjs
ls -la .output/server/index.mjs
ls -la ecosystem.config.cjs
```

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: æ‰¾ä¸åˆ° .output/server/index.mjs

**åŸå› **: æ„å»ºäº§ç‰©æ²¡æœ‰ä¸Šä¼ åˆ°æœåŠ¡å™¨

**è§£å†³**: ç¡®ä¿ .output ç›®å½•å·²é€šè¿‡ git ä¸Šä¼ 

```bash
# æ£€æŸ¥
ls -la .output/server/index.mjs

# å¦‚æœä¸å­˜åœ¨ï¼Œéœ€è¦é‡æ–°æ‹‰å–ä»£ç æˆ–æ„å»º
```

### é—®é¢˜ 2: ç¯å¢ƒå˜é‡æœªé…ç½®

**åŸå› **: .env æ–‡ä»¶ä¸å­˜åœ¨æˆ–é…ç½®ä¸å®Œæ•´

**è§£å†³**: åˆ›å»ºå¹¶é…ç½® .env æ–‡ä»¶

```bash
cd /home/objct_b/nuxtjs
nano .env
```

### é—®é¢˜ 3: Node.js ç‰ˆæœ¬é—®é¢˜

**åŸå› **: Node.js ç‰ˆæœ¬ä¸å…¼å®¹

**æ£€æŸ¥**:
```bash
node -v
# åº”è¯¥æ˜¯ v16.20.2
```

### é—®é¢˜ 4: ç«¯å£è¢«å ç”¨

**åŸå› **: 3000 ç«¯å£å·²è¢«å ç”¨

**æ£€æŸ¥**:
```bash
netstat -tulpn | grep :3000
# æˆ–
lsof -i :3000
```

**è§£å†³**: ä¿®æ”¹ ecosystem.config.cjs ä¸­çš„ PORT æˆ–åœæ­¢å ç”¨ç«¯å£çš„ç¨‹åº

## ğŸ“ å»ºè®®çš„æ“ä½œæ­¥éª¤

1. **å…ˆæŸ¥çœ‹é”™è¯¯æ—¥å¿—**ï¼ˆæœ€é‡è¦ï¼‰ï¼š
   ```bash
   pm2 logs nuxtjs-app --err --lines 50
   ```

2. **åˆ é™¤å¹¶é‡æ–°å¯åŠ¨**ï¼š
   ```bash
   pm2 delete nuxtjs-app
   pm2 start ecosystem.config.cjs
   pm2 logs nuxtjs-app
   ```

3. **å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œæ‰‹åŠ¨æµ‹è¯•**ï¼š
   ```bash
   cd /home/objct_b/nuxtjs
   node --experimental-fetch .output/server/index.mjs
   ```

4. **æŸ¥çœ‹æ‰‹åŠ¨è¿è¡Œçš„é”™è¯¯ä¿¡æ¯**ï¼Œç„¶åå‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯å†…å®¹ã€‚

